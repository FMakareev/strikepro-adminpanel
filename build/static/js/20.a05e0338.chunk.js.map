{"version":3,"sources":["config.js","store/reduxRestEasy/.helpers/networkHelpers.js","history.js","store/reduxRestEasy/.helpers/handleStatusCode.js","store/reduxRestEasy/.helpers/ResourceHelper.js","store/reduxRestEasy/.helpers/normalizerHelpers.js","components/PageContainer/PageContainer.js","components/TextField/TextField.js","helpers/normalizeSubmissionError.js","components/Form/FormSelect.js","components/Form/form_ckeditor.js","store/reduxRestEasy/Slides/SlidesResource.js","components/Checkbox/Checkbox.js","views/Slides/View/SlidesEditor/Components/SlidePreviewVideo/SlidePreviewVideo.js","views/Slides/View/SlidesEditor/Components/SlidePreviewImage/SlidePreviewImage.js","views/Slides/View/SlidesEditor/Components/SlidePreviewContent/SlidePreviewContent.js","views/Slides/View/PropTypes/index.js","shared/constants.js","views/Slides/View/SlidesEditor/Components/SlidePreview/SlidePreview.js","views/Slides/View/SlidesEditor/Components/UploadFileButton/UploadFileButton.js","views/Slides/View/SlidesEditor/Components/UploadVideo/UploadVideo.js","views/Slides/View/SlidesEditor/Components/UploadImage/UploadImage.js","views/Slides/View/SlidesEditor/Components/SlideBodyVideo/SlideBodyVideo.js","views/Slides/View/SlidesEditor/Components/SlideBodyImage/SlideBodyImage.js","views/Slides/View/SlidesEditor/Components/FormSlidesEditor/FormSlidesEditor.js","views/Slides/View/SlidesEditor/Components/SlideParseBody/SlideParseBody.js","views/Slides/View/SlidesEditor/index.js"],"names":["__webpack_exports__","base","window","location","hostname","api","login","logout","posts","post","categories","category","slides","tiles","tile_types","tile","nomenclature","nomenclatures","nomenclatureCharacteristic","typesOfNomenclature","fileupload","static_pages","requestPOST","body","Object","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","method","credentials","headers","Accept","Content-type","JSON","stringify","requestGET","requestDELETE","requestPUT","history__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","BrowserHistory","createBrowserHistory","d","handleStatusCode","_history__WEBPACK_IMPORTED_MODULE_0__","response","status","history","push","NormalizationPayload","resourceName","_this","this","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","mergeResourceAndPayload","resources","payload","forEach","item","id","metadata","data","concat","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","removePayloadFromResources","payloadID","console","log","filter","warn","payloadToResource","_this$resourceName","arguments","length","undefined","entities","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","result","updateResource","normalizeError","errors","message","DeleteNormalizer","Normalizer","urlParams","PageContainer","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","reactstrap__WEBPACK_IMPORTED_MODULE_6__","_ref","header","children","footer","a","createElement","className","xs","TextField","reactstrap__WEBPACK_IMPORTED_MODULE_7__","input","label","type","placeholder","required","icon","_ref$meta","meta","touched","error","addonType","assign","valid","normalizeSubmissionError","_error","prop","Array","isArray","FormSelect","_Component","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_this$props","props","_this$props$meta","valueKey","labelKey","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_8__","map","index","selected","reactstrap__WEBPACK_IMPORTED_MODULE_9__","color","Component","defaultProps","FormCKEditor","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","initialState","config","react__WEBPACK_IMPORTED_MODULE_6___default","react_ckeditor_component__WEBPACK_IMPORTED_MODULE_7___default","activeClass","language","filebrowserBrowseUrl","filebrowserImageBrowseUrl","filebrowserUploadUrl","filebrowserImageUploadUrl","imageUploadUrl","scriptUrl","content","events","change","evt","onChange","editor","getData","onSelect","cancel","paste","afterPaste","fileUploadRequest","xhr","fileLoader","setRequestHeader","withCredentials","fileUploadResponse","reactstrap__WEBPACK_IMPORTED_MODULE_10__","isInit","CreateSlideAction","DeleteSlideAction","GetSlideAction","GetSlidesAction","UpdateSlideAction","isRetrievingGetSlide","isRetrievingGetSlides","GetSlides","GetSlideById","isRetrievingUpdateSlide","isRetrievingCreateSlide","_brigad_redux_rest_easy__WEBPACK_IMPORTED_MODULE_0__","_helpers_ResourceHelper__WEBPACK_IMPORTED_MODULE_1__","_config__WEBPACK_IMPORTED_MODULE_2__","_helpers_handleStatusCode__WEBPACK_IMPORTED_MODULE_3__","_helpers_networkHelpers__WEBPACK_IMPORTED_MODULE_4__","_helpers_normalizerHelpers__WEBPACK_IMPORTED_MODULE_5__","SlidesResource","createResource","createSlide","url","normalizer","hasOwnProperty","networkHelpers","deleteSlide","getSlide","getSlides","updateSlide","actions","perform","selectors","resource","getResource","getResourceById","request","isPerforming","Checkbox","check","htmlFor","name","SliderPreviewVideo","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","nextProps","nextState","shallowequal","video","document","getElementById","load","play","e","react_default","width","loop","muted","autoPlay","values","src","React","SliderPreviewImage","image","alt","draggable","contentPosition","PropTypes","string","bool","top-left","top-middle","top-right","middle-left","middle-middle","middle-right","bottom-left","bottom-middle","bottom-right","slidesItemCaptionClassName","backDrop","position","classNames","defineProperty","slides_item-caption","slides_item-caption--back-drop","getContentPosition","SlidePreviewContent","buttonLabel","buttonLink","ReactHtmlParser","href","BG_SLIDER_TYPE_IMAGE","BG_SLIDER_TYPE_VIDEO","SlidePreview","_this$props$values","backgroundType","Card","CardHeader","CardBody","SlidePreviewImage","Components_SlidePreviewContent_SlidePreviewContent","SlidePreviewVideo","UploadFileButton","isLoading","uploadFile","accept","errorSubmit","FormGroup","Button","style","block","opacity","top","right","bottom","left","multiple","FormFeedback","UploadVideo","setNewVideoInStore","fileType","folder","_this$props$input","indexOf","objectSpread","target","files","replace","setState","formData","FormData","append","fetch","then","statusText","json","catch","_this$state","Components_UploadFileButton_UploadFileButton","get","UploadImage","SlideBodyVideo","SlideBodyImage","FormSlidesEditor","_getPrototypeOf2","_len","args","_key","getSlideBody","renderToString","Components_SlideBodyImage_SlideBodyImage","Components_SlideBodyVideo_SlideBodyVideo","onSubmit","normalizedPayload","SubmissionError","_ref2","handleSubmit","pristine","submitting","SlidePreview_SlidePreview","Row","Col","Field","component","ref","toolbarGroups","groups","Alert","md","lg","connect","getFormValues","reduxForm","form","connectRestEasy","ownProps","dispatch","options","withRouter","trim","SlideParseBody","domBody","DOMParser","parseFromString","getElementsByTagName","GetBGTypeSlideBody","getElementsByClassName","GetImageFromSlideBody","i","GetVideoFromSlideBody","CheckBackDropSlideBody","innerHTML","GetContentSlideBody","GetPositionContentSlideBody","button","textContent","GetButtonSlideBody","SlideEditor","createInitialValues","params","match","slide","initialValues","Components_FormSlidesEditor_FormSlidesEditor"],"mappings":"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","file":"static/js/20.a05e0338.chunk.js","sourcesContent":["export default {\n  base: window.location.hostname === 'localhost' ? 'https://dev.strikepro.ru' : '',\n  api: {\n    login: '/dashboard/auth/login',\n    logout: '/dashboard/auth/logout',\n\n    posts: '/dashboard/blog/posts',\n    post: '/dashboard/blog/post',\n\n    categories: '/dashboard/blog/categories',\n    category: '/dashboard/blog/category',\n\n    slides: '/dashboard/slides',\n\n    tiles: '/dashboard/mainfeeds',\n\n    tile_types: '/dashboard/mainfeed/types',\n    tile: '/dashboard/mainfeed',\n\n    nomenclature: '/dashboard/nomenclature',\n    nomenclatures: '/dashboard/nomenclatures',\n\n    nomenclatureCharacteristic: '/dashboard/nomenclature/characteristic',\n    typesOfNomenclature: '/dashboard/nomenclature/characteristic',\n    fileupload: '/dashboard/fileupload',\n\n    static_pages: '/dashboard/pages',\n  }\n}\n","export const requestPOST = (body) => {\n  return {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    },\n    ...(body? {body: JSON.stringify(body)} : {})\n\n  }\n};\n\nexport const requestGET = () => {\n  return {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    }\n  }\n};\n\nexport const requestDELETE = () => {\n  return {\n    method: 'DELETE',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    }\n  }\n};\n\nexport const requestPUT = (body) => {\n  return {\n    method: 'PUT',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    },\n    body: JSON.stringify(body),\n  }\n};\n","import {createBrowserHistory} from 'history';\n\nexport const BrowserHistory = createBrowserHistory();\n\nexport default BrowserHistory;\n","import history from \"../../../history\";\n\n\nexport const handleStatusCode = (response) => {\n  const {status} = response;\n  if (status === 401) {\n    history.push('/login');\n    return response\n  }\n\n  if (status === 404) {\n    history.push('/404');\n    return response\n  }\n\n\n  return response\n};\n\nexport default handleStatusCode;\n","export class NormalizationPayload {\n\n  resourceName = null;\n\n  constructor(resourceName) {\n    this.resourceName = resourceName;\n  }\n\n  /**\n   * @param {object} resources - объект с исходными ресурсами\n   * @param {array} payload - массив с новыми ресурсами\n   * @desc метод для добавления в существующие ресурсы новых ресурсов\n   * */\n  mergeResourceAndPayload = (resources, payload) => {\n    payload.forEach((item) => {\n      resources[this.resourceName][this.resourceName][item.id] = item;\n      resources[this.resourceName].metadata = {\n        data: [...resources[this.resourceName].metadata.data, item.id],\n      };\n    });\n    return resources;\n  };\n\n  /**\n   * @param {array} resources\n   * @param {string} payloadID\n   * @desc\n   * */\n  removePayloadFromResources = (resources, payloadID) => {\n    if (!payloadID) {\n      console.warn('payloadID undefined');\n      return resources;\n    }\n    console.log('removePayloadFromResources: ', this, resources, payloadID);\n    delete resources[this.resourceName][this.resourceName][payloadID];\n    resources[this.resourceName].metadata.data = resources[this.resourceName]\n      .metadata.data.filter(item => item !== payloadID);\n    return resources;\n  };\n\n  /**\n   * @param {array} payload\n   * @param {object} metadata\n   * @desc\n   * */\n  payloadToResource = (payload, metadata = {}) => {\n    const data = {\n      entities: {\n        [this.resourceName]: {\n          [this.resourceName]: {},\n          metadata: {}\n        },\n      },\n      result: []\n    };\n    if (payload) {\n      payload.forEach((item) => {\n        data.result.push(item.id);\n        data.entities[this.resourceName][this.resourceName][item.id] = item;\n      });\n    }\n    data.entities[this.resourceName].metadata = {\n      ...metadata,\n      data: data.result,\n    };\n    return data;\n  };\n\n  /**\n   * @param {object} resources - объект с исходными ресурсами\n   * @param {object} payload - массив с новыми ресурсами\n   * @desc метод для добавления в существующие ресурсы новых ресурсов\n   * */\n  updateResource = (resources, payload) => {\n    resources[this.resourceName][this.resourceName][payload.id] = payload;\n    return resources;\n  };\n\n  /**\n   * @param {object} payload\n   * @param {object} payload.errors\n   * @param {array} payload.errors.propName\n   * @param {string} payload.message\n   * */\n  normalizeError = (payload) => {\n    if(!payload.errors){\n      payload.errors = {};\n    }\n    return {\n      entities: {\n        ...payload,\n        message: [payload.message]\n      },\n      result: {errors: payload}\n    };\n  }\n\n}\n","\n\nexport const DeleteNormalizer = (Normalizer)=> (payload, resources, urlParams,) => {\n  if (payload.errors) {\n    return Normalizer.normalizeError(payload);\n  }\n  if (payload) {\n    return Normalizer.removePayloadFromResources(resources, urlParams.id);\n  }\n  return resources;\n};\n\n\nexport const CreateNormalizer = (Normalizer) => (payload, resources, urlParams) => {\n  if (!payload ) {\n    return null\n  }\n  if (payload.errors || payload.message) {\n    return Normalizer.normalizeError(payload);\n  }\n\n  if (resources.hasOwnProperty(Normalizer.resourceName)) {\n    return Normalizer.mergeResourceAndPayload(resources, [payload])\n  } else {\n    return Normalizer.payloadToResource([payload]);\n  }\n};\n\nexport const UpdateNormalizer = (Normalizer) => (payload, resources) => {\n  if (payload.errors || payload.message) {\n    return Normalizer.normalizeError(payload);\n  }\n  if (payload) {\n    return Normalizer.updateResource(resources, payload);\n  }\n  return resources;\n};\n\nexport const GetListNormalizer = (Normalizer) => (payload) => {\n  if (!payload && payload.error) {\n    return null;\n  }\n  if (Array.isArray(payload)) {\n    return Normalizer.payloadToResource(payload);\n  } else {\n    return Normalizer.payloadToResource(payload.data, payload);\n  }\n};\n\nexport const GetByIdNormalizer = (Normalizer) => (payload) => Normalizer.payloadToResource([payload])\n","import React from 'react';\nimport {Card, CardBody, CardHeader, Col, Row, CardFooter} from \"reactstrap\";\nexport const PageContainer =({header, children, footer})=>(<div className=\"animated fadeIn\">\n  <Row>\n    <Col xs=\"12\">\n      <Card>\n        {\n          header &&\n          <CardHeader>\n            <strong>\n              {header}\n            </strong>\n          </CardHeader>\n        }\n        <CardBody className={'card-body'}>\n          {children}\n        </CardBody>\n        {\n          footer &&\n          <CardFooter className={'card-footer'}>\n            {footer}\n          </CardFooter>\n        }\n      </Card>\n    </Col>\n  </Row>\n</div>);\n\n\nexport default PageContainer;\n","import React from \"react\";\nimport {FormFeedback, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText, Label} from \"reactstrap\";\n\nexport const TextField = ({input, label, type, placeholder, required, icon, meta: {touched, error}}) => (\n  <FormGroup className={touched ? error ? '' : 'was-validated' : ''}>\n    {\n      label && <Label>{label}</Label>\n    }\n    <InputGroup className=\"mb-3\">\n      {\n        icon &&\n        <InputGroupAddon addonType=\"prepend\">\n          <InputGroupText>\n            <i className={icon}/>\n          </InputGroupText>\n        </InputGroupAddon>\n      }\n\n      <Input\n        {...input}\n        type={type}\n        valid={touched ? !error : false}\n        className={touched ? error ? 'form-control-warning is-invalid' : '' : ''}\n        placeholder={placeholder || label}\n        required={required}/>\n      <FormFeedback\n        valid={touched ? !error : false}\n        className=\"help-block\">\n        {error}\n      </FormFeedback>\n    </InputGroup>\n\n  </FormGroup>)\n\nexport default TextField;\n","\n/**\n * @param {object} error\n * @param {object} error.errors\n * @param {array} error.message\n * */\nexport const normalizeSubmissionError = (error) => {\n  const data = {\n    _error: error.message ? error.message[0] : null,\n  };\n  for (let prop in error.errors) {\n    if (Array.isArray(error.errors[prop])) {\n      data[prop] = error.errors[prop][0];\n    }\n  }\n  return data;\n}\n","import React, {Component} from 'react';\nimport {Alert, FormGroup, Input, Label} from \"reactstrap\";\n\n\nexport class FormSelect extends Component {\n\n  static defaultProps = {\n    valueKey: 'id',\n    labelKey: 'name',\n  };\n\n  render() {\n    const {\n      input,\n      label,\n      type,\n      data,\n      meta: {touched, error},\n      valueKey,\n      labelKey,\n    } = this.props;\n    return (\n      <FormGroup>\n        <Label>{label}</Label>\n        <Input type={type} {...input} >\n          <option>выберите категорию...</option>\n          {\n            Array.isArray(data) && data.map((item, index) => (<option\n              key={index}\n              selected={item[valueKey] === input.value}\n              value={item[valueKey]}>\n              {item[labelKey]}\n            </option>))\n          }\n        </Input>\n        {\n          touched && error &&\n          <Alert color=\"danger\">\n            {error}\n          </Alert>\n\n        }\n      </FormGroup>\n    );\n  }\n}\n\n\nexport default FormSelect;\n","import React, {Component} from 'react';\nimport CKEditor from \"react-ckeditor-component\";\nimport {Alert, FormGroup, Label} from \"reactstrap\";\n\nclass FormCKEditor extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n  get initialState() {\n    return {\n      isInit: false,\n      editor: null\n    }\n  }\n\n  componentWillMount() {}\n\n\n  componentDidUpdate() {}\n\n\n  render() {\n    const {input, label, meta: {touched, error}, config} = this.props;\n\n    return (\n      <FormGroup>\n        <Label>{label}</Label>\n\n        <CKEditor\n          activeClass=\"p10\"\n          config={{\n            language: 'ru',\n\n            filebrowserBrowseUrl: 'http://new.strikepro.ru/ckfinder/browser',\n            filebrowserImageBrowseUrl: 'http://new.strikepro.ru/ckfinder/browser',\n\n            filebrowserUploadUrl:\n              'http://new.strikepro.ru/ckfinder/connector',\n            filebrowserImageUploadUrl:\n              'http://new.strikepro.ru/ckfinder/connector',\n            imageUploadUrl: '',\n            ...config,\n          }}\n          scriptUrl=\"//cdn.ckeditor.com/4.7.3/full/ckeditor.js\"\n          content={input.value}\n          events={{\n            \"change\": (evt) => {\n              return input.onChange(evt.editor.getData())\n            },\n            \"onSelect\": (evt) => {\n              console.log('onSelect:', evt);\n              evt.cancel();\n            },\n            \"paste\": (evt) => {\n              console.log('paste:', evt);\n              // evt.stop();\n            },\n            \"afterPaste\": (evt) => {\n              console.log('afterPaste:', evt);\n              // evt.stop();\n            },\n            \"fileUploadRequest\": (evt) => {\n              console.log('fileUploadRequest:', evt);\n              let xhr = evt.data.fileLoader.xhr;\n\n              xhr.setRequestHeader(\"Access-Control-Allow-Origin\", \"http://localhost:8080\");\n              xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n              xhr.setRequestHeader(\"Accept\", \"application/json\");\n\n              xhr.withCredentials = true;\n              // evt.stop();\n            },\n            \"fileUploadResponse\": (evt) => {\n              console.log('fileUploadResponse:', evt);\n              // evt.stop();\n            },\n          }}\n        />\n        {\n          touched && error &&\n          <Alert color=\"danger\">\n            {error}\n          </Alert>\n\n        }\n      </FormGroup>\n    )\n  }\n}\n\n\nexport default FormCKEditor;\n","import {createResource} from '@brigad/redux-rest-easy';\nimport {NormalizationPayload} from \"../.helpers/ResourceHelper\";\nimport config from \"../../../config\";\nimport {handleStatusCode} from \"../.helpers/handleStatusCode\";\nimport {requestDELETE, requestGET, requestPOST, requestPUT} from \"../.helpers/networkHelpers\";\nimport {DeleteNormalizer} from \"../.helpers/normalizerHelpers\";\n\n\nconst RESOURCE_NAME = 'slides';\n\nconst Normalizer = new NormalizationPayload(RESOURCE_NAME);\n\n\nexport const SlidesResource = createResource(RESOURCE_NAME)({\n  createSlide: {\n    method: 'POST',\n    url: `${config.base}${config.api.slides}`,\n    normalizer: (payload, resources, urlParams) => {\n      if (!payload ) {\n        return null\n      }\n      if (payload.errors || payload.message) {\n        return Normalizer.normalizeError(payload);\n      }\n\n      if (resources.hasOwnProperty(RESOURCE_NAME)) {\n        return Normalizer.mergeResourceAndPayload(resources, [payload])\n      } else {\n        return Normalizer.payloadToResource([payload]);\n      }\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestPOST: requestPOST\n    },\n  },\n  deleteSlide: {\n    method: 'DELETE',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: DeleteNormalizer(Normalizer),\n    networkHelpers: {\n      handleStatusCode,\n      requestDELETE: requestDELETE,\n    },\n  },\n  getSlide: {\n    method: 'GET',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: (payload) => Normalizer.payloadToResource([payload]),\n    networkHelpers: {\n      handleStatusCode,\n      requestGET: requestGET,\n    },\n  },\n  getSlides: {\n    method: 'GET',\n    url: `${config.base}${config.api.slides}`,\n    normalizer: (payload) => {\n      if (!payload && payload.error) {\n        return null;\n      }\n      if (Array.isArray(payload)) {\n        return Normalizer.payloadToResource(payload);\n      } else {\n        return Normalizer.payloadToResource(payload.data, payload);\n      }\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestGET: requestGET,\n    },\n  },\n  updateSlide: {\n    method: 'PUT',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: (payload, resources) => {\n      if (payload.errors) {\n        return Normalizer.normalizeError(payload);\n      }\n      if (payload) {\n        return Normalizer.updateResource(resources, payload);\n      }\n      return resources;\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestPUT: requestPUT,\n    },\n  },\n});\n\n\nconst {\n  actions: {\n    createSlide: {\n      perform: CreateSlideAction,\n    },\n    deleteSlide: {\n      perform: DeleteSlideAction,\n    },\n    getSlide: {\n      perform: GetSlideAction,\n    },\n    getSlides: {\n      perform: GetSlidesAction,\n    },\n    updateSlide: {\n      perform: UpdateSlideAction,\n    },\n  },\n  selectors: {\n    resource: {\n      getResource: GetSlides,\n      getResourceById: GetSlideById,\n    },\n    createSlide: {\n      request: {\n        getResource: CreateSlideGetResource,\n        isPerforming: isRetrievingCreateSlide,\n      }\n    },\n    deleteSlide: {\n      request: {\n        getResource: DeleteSlideGetResource,\n      }\n    },\n    getSlide: {\n      request: {\n        getResource: GetSlideGetResource,\n        isPerforming: isRetrievingGetSlide,\n      }\n    },\n    getSlides: {\n      request: {\n        getResource: GetSlidesGetResource,\n        isPerforming: isRetrievingGetSlides,\n      }\n    },\n    updateSlide: {\n      request: {\n        getResource: UpdateSlideGetResource,\n        isPerforming: isRetrievingUpdateSlide,\n      }\n    },\n  }\n} = SlidesResource;\n\nexport {\n  CreateSlideAction,\n  DeleteSlideAction,\n  GetSlideAction,\n  GetSlidesAction,\n  UpdateSlideAction,\n\n  CreateSlideGetResource,\n  DeleteSlideGetResource,\n  GetSlideGetResource,\n  GetSlidesGetResource,\n  UpdateSlideGetResource,\n  isRetrievingGetSlide,\n  isRetrievingGetSlides,\n  GetSlides,\n  GetSlideById,\n\n  isRetrievingUpdateSlide,\n  isRetrievingCreateSlide,\n}\n","import React, {Component} from 'react';\nimport {Alert, FormGroup, Label} from \"reactstrap\";\n\n\nexport class Checkbox extends Component {\n    render() {\n        const {label, input, type, value, meta: {touched, error}} = this.props;\n        return (<FormGroup>\n            <div className=\"checkbox\">\n                <Label check={value === input.value} htmlFor=\"checkbox1\">\n                    <input type={type} {...input} name=\"checkbox1\"\n                           value={value}/> {label}\n                </Label>\n            </div>\n            {\n                touched && error &&\n                <Alert color=\"danger\">\n                    {error}\n                </Alert>\n            }\n        </FormGroup>)\n    }\n}\n\nexport default Checkbox;\n","import React from 'react';\nimport shallowequal from \"shallowequal\";\n\n\nexport class SliderPreviewVideo extends React.Component {\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps.video, this.props.video)\n  }\n\n  componentDidUpdate() {\n    try {\n      const video = document.getElementById('backgroundVideo');\n      if (video) {\n        video.load();\n        video.play();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    const {video} = this.props;\n\n    return (<video width={'100%'} id=\"backgroundVideo\" loop=\"true\" muted=\"true\" autoPlay=\"true\">\n      {\n        video && Object.values(video)\n          .map(item => (<source src={item.src} type={item.type}/>))\n      }\n      Video not supported.\n    </video>)\n  }\n}\n\nexport default SliderPreviewVideo;\n","import React from 'react';\n\n\nexport const SliderPreviewImage = ({image}) => (<img\n  src={image}\n  alt=\"\"\n  className=\"slides_item-img\"\n  draggable=\"false\"\n/>);\n\nexport default SliderPreviewImage;\n","import React from 'react';\nimport ReactHtmlParser from \"react-html-parser\";\nimport classNames from \"classnames\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\n\nexport const contentPosition = {\n  'top-left': 'top-left slides_item-caption--top-left',\n  'top-middle': 'top-middle slides_item-caption--top-middle',\n  'top-right': 'top-right slides_item-caption--top-right',\n\n  'middle-left': 'middle-left slides_item-caption--middle-left',\n  'middle-middle': 'middle-middle slides_item-caption--middle-middle',\n  'middle-right': 'middle-right slides_item-caption--middle-right',\n\n  'bottom-left': 'bottom-left slides_item-caption--bottom-left',\n  'bottom-middle': 'bottom-middle slides_item-caption--bottom-middle',\n  'bottom-right': 'bottom-right slides_item-caption--bottom-right',\n};\n\nexport const getContentPosition = (position) => {\n  for (let prop in contentPosition) {\n    if (prop === position) {\n      return contentPosition[prop];\n    }\n  }\n  return contentPosition['middle-middle'];\n};\n\nconst slidesItemCaptionClassName = (backDrop = false, position = 'middle-center') => classNames({\n  'slides_item-caption': true,\n  'slides_item-caption--back-drop': backDrop,\n  [getContentPosition(position)]: true\n});\n\nexport const SlidePreviewContent = ({backDrop, position, body, buttonLabel, buttonLink}) => (<div\n  className={slidesItemCaptionClassName(backDrop, position)}\n>\n  {\n    body &&\n    <div className=\"slides_item-caption-content\">\n      {ReactHtmlParser(body)}\n    </div>\n  }\n  {\n    buttonLabel &&\n    <a href={buttonLink} className=\"button-base\">\n      {buttonLabel}\n    </a>\n  }\n</div>);\n\nSlidePreviewContent.propTypes = SlidePropTypes;\n\nexport default SlidePreviewContent;\n","import PropTypes from \"prop-types\";\n\n\nexport const SlidePropTypes = {\n  backgroundType: PropTypes.string,\n  position: PropTypes.string,\n  backDrop: PropTypes.bool,\n  buttonLabel: PropTypes.string,\n  buttonLink: PropTypes.string,\n  body:PropTypes.string,\n  image:PropTypes.string,\n};\n","\n\nexport const BG_SLIDER_TYPE_IMAGE = 'image';\nexport const BG_SLIDER_TYPE_VIDEO = 'video';\n","import React, {Component} from 'react';\nimport {Card, CardBody, CardHeader} from \"reactstrap\";\nimport shallowequal from 'shallowequal';\nimport SliderPreviewVideo from \"../SlidePreviewVideo/SlidePreviewVideo\";\nimport SliderPreviewImage from \"../SlidePreviewImage/SlidePreviewImage\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\n\n\nexport class SlidePreview extends Component {\n\n  static defaultProps = {\n    values:{\n      backgroundType: BG_SLIDER_TYPE_IMAGE,\n      image: '',\n    }\n  };\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps.values, this.props.values);\n  }\n\n  render() {\n    const {\n      backgroundType,\n      image,\n    } = this.props.values;\n    return (<Card>\n      <CardHeader>\n        <strong>Превью</strong>\n      </CardHeader>\n      <CardBody>\n        {\n          backgroundType === BG_SLIDER_TYPE_IMAGE && <div className={'slides_item'}>\n            <SliderPreviewImage image={image}/>\n            <SlidePreviewContent {...this.props.values}/>\n          </div>\n        }\n        {\n          backgroundType === BG_SLIDER_TYPE_VIDEO && <div className={'slides_item'}>\n            <SliderPreviewVideo\n              video={image}\n            />\n            <SlidePreviewContent {...this.props.values}/>\n          </div>\n        }\n      </CardBody>\n    </Card>)\n  }\n}\n\nexport default SlidePreview;\n","import React from 'react'\nimport {Button, FormFeedback, FormGroup} from \"reactstrap\";\n\nexport const UploadFileButton = ({\n                             isLoading,\n                             uploadFile,\n                             accept,\n                             label,\n                             errorSubmit\n                           }) => (<FormGroup>\n  <Button\n    style={{\n      position: 'relative',\n    }}\n    type={'button'}\n    block\n    color=\"primary\"\n  >\n    <input\n      accept={accept}\n      type='file'\n      style={{\n        opacity: '0',\n        position: 'absolute',\n        top: '0',\n        right: '0',\n        bottom: '0',\n        left: '0',\n        width: '100%'\n      }}\n      onChange={uploadFile}\n      multiple\n    />\n    {\n      !isLoading &&\n      <i className=\"fa fa-upload\"/>\n    }\n    {\n      isLoading &&\n      <i className=\"fa fa-spin fa-circle-o-notch\"/>\n    }\n    &nbsp;{label}\n  </Button>\n  {\n    errorSubmit &&\n    <FormFeedback\n      className={errorSubmit ? 'btn-block' : ''}\n    >\n      {errorSubmit}\n    </FormFeedback>\n  }\n</FormGroup>);\n\n\nUploadFileButton.defaultProps = {\n  label: 'Загрузить',\n  isLoading: false,\n  errorSubmit: null,\n  accept: '',\n};\n\nexport default UploadFileButton;\n","import React, {Component} from 'react';\nimport UploadFileButton from \"../UploadFileButton/UploadFileButton\";\nimport config from \"../../../../../../config\";\n\n\nconst fakeUploadFileServer = (formData) => {\n  return {\"status\": \"ok\", \"url\": `${formData.get('folder')}/${formData.get('file')}`}\n};\n\n\nexport class UploadVideo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n\n  get initialState() {\n    return {\n      isLoading: false,\n      errorSubmit: null,\n    }\n  }\n\n  setNewVideoInStore = (response, fileType, folder) => {\n    const {value, onChange} = this.props.input;\n    if (value.hasOwnProperty(fileType)) {\n      if (value[fileType] !== response.url) {\n        onChange({\n          [fileType]: {\n            type: fileType,\n            src: response.url,\n          }\n        })\n      }\n    } else {\n      for (let prop in value) {\n        if (value[prop].src.indexOf(folder) !== -1) {\n          onChange({\n            ...value,\n            [fileType]: {\n              type: fileType,\n              src: response.url,\n            }\n          });\n          return;\n        }\n      }\n      onChange({\n        [fileType]: {\n          type: fileType,\n          src: response.url,\n        }\n      })\n    }\n  };\n\n  uploadFile = e => {\n\n    const fileTypeRegexp = /[.mp4|.ogg|.webm]/g;\n    const fileType = e.target.files[0].type;\n    const folder = e.target.files[0].name.replace(fileTypeRegexp, '');\n\n    this.setState({\n      isLoading: true,\n    });\n    const formData = new FormData();\n\n    formData.append('file', e.target.files[0]);\n    formData.append('folder', folder);\n\n    // let response = fakeUploadFileServer(formData);\n\n\n    fetch(`${config.base}${config.api.fileupload}`,\n      {\n        credentials: 'include',\n        method: 'POST',\n        body: formData\n      })\n      .then(response => {\n        console.log('response: ', response);\n        if (response.status >= 400) {\n          this.setState({\n            isLoading: false,\n            errorSubmit: response.statusText,\n          })\n        }\n        return response.json();\n      })\n      .then(response => {\n        console.log('response: ', response);\n        if (response.status === 'ok') {\n          this.setNewVideoInStore(response, fileType, folder);\n        } else {\n          this.setState({\n            isLoading: false,\n            errorSubmit: 'Неизвестная ошибка',\n          })\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({\n          isLoading: false,\n        })\n      })\n  };\n\n\n  render() {\n    const {isLoading, errorSubmit} = this.state;\n    console.log(this.state);\n    return (<UploadFileButton\n      label={'Загрузка видео'}\n      isLoading={isLoading}\n      errorSubmit={errorSubmit}\n      uploadFile={this.uploadFile}\n      accept={\"video/mp4,video/ogg,video/webm\"}\n    />)\n  }\n\n}\n\nexport default UploadVideo;\n","import React, {Component} from 'react';\nimport UploadFileButton from \"../UploadFileButton/UploadFileButton\";\nimport config from \"../../../../../../config\";\n\n\nexport class UploadImage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n\n  get initialState() {\n    return {\n      isLoading: false,\n      errorSubmit: null,\n    }\n  }\n\n  uploadFile = e => {\n    const {onChange} = this.props.input;\n\n    const fileTypeRegexp = /[.mp4|.ogg|.webm]/g;\n    const folder = e.target.files[0].name.replace(fileTypeRegexp, '');\n\n    this.setState({\n      isLoading: true,\n    });\n    const formData = new FormData();\n\n    formData.append('file', e.target.files[0]);\n    formData.append('folder', folder);\n\n    fetch(`${config.base}${config.api.fileupload}`,\n      {\n        credentials: 'include',\n        method: 'POST',\n        body: formData\n      })\n      .then(response => {\n        console.log('response: ', response);\n        return response.json();\n      })\n      .then((response) => {\n        if (response.status === 'ok') {\n          onChange(response.url);\n          this.setState({\n            isLoading: false,\n            errorSubmit: true,\n          })\n        } else {\n          this.setState({\n            isLoading: false,\n            errorSubmit: true,\n          })\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({\n          isLoading: false,\n          errorSubmit: true,\n        })\n      })\n  };\n\n\n  render() {\n    const {isLoading, errorSubmit} = this.state;\n\n    return (<UploadFileButton\n      label={'Загрузка изображений'}\n      isLoading={isLoading}\n      errorSubmit={errorSubmit}\n      uploadFile={this.uploadFile}\n      accept={\"image/jpeg, image/pjpeg, image/png\"}\n    />)\n  }\n\n}\n\nexport default UploadImage;\n","import React from \"react\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\nimport SliderPreviewVideo from \"../SlidePreviewVideo/SlidePreviewVideo\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\n\n\nexport const SlideBodyVideo = (props)=>(<div className={'slides_item'}>\n  <SliderPreviewVideo video={props.image}/>\n  <SlidePreviewContent {...props}/>\n</div>);\n\n\nSlideBodyVideo.propTypes = SlidePropTypes;\n\nexport default SlideBodyVideo;\n","import React from \"react\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\nimport SliderPreviewImage from \"../SlidePreviewImage/SlidePreviewImage\";\n\n\nexport const SlideBodyImage = (props)=>(<div className={'slides_item'}>\n  <SliderPreviewImage image={props.image}/>\n  <SlidePreviewContent {...props}/>\n</div>);\n\n\nSlideBodyImage.propTypes = SlidePropTypes;\n\nexport default SlideBodyImage;\n","import React, {Component} from 'react';\nimport {Field, getFormValues, reduxForm, SubmissionError} from \"redux-form\";\nimport { renderToString } from 'react-dom/server'\nimport {connect} from \"react-redux\";\nimport {connect as connectRestEasy} from \"@brigad/redux-rest-easy\";\nimport {withRouter} from \"react-router-dom\";\nimport {Alert, Button, Col, Row} from \"reactstrap\";\n\nimport FormCKEditor from \"../../../../../../components/Form/form_ckeditor\";\nimport FormSelect from \"../../../../../../components/Form/FormSelect\";\nimport Checkbox from \"../../../../../../components/Checkbox/Checkbox\";\nimport {TextField} from \"../../../../../../components/TextField/TextField\";\nimport {\n  CreateSlideAction,\n  isRetrievingCreateSlide, isRetrievingUpdateSlide,\n  UpdateSlideAction\n} from \"../../../../../../store/reduxRestEasy/Slides/SlidesResource\";\nimport {normalizeSubmissionError} from \"../../../../../../helpers/normalizeSubmissionError\";\nimport {SlidePreview} from \"../SlidePreview/SlidePreview\";\nimport UploadVideo from \"../UploadVideo/UploadVideo\";\nimport UploadImage from \"../UploadImage/UploadImage\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\nimport SlideBodyVideo from \"../SlideBodyVideo/SlideBodyVideo\";\nimport SlideBodyImage from \"../SlideBodyImage/SlideBodyImage\";\n\n\nexport class FormSlidesEditor extends Component {\n\n  getSlideBody = (values) => {\n    try {\n      if(values.backgroundType === BG_SLIDER_TYPE_IMAGE){\n        return renderToString(<SlideBodyImage {...values}/>);\n      }\n      if(values.backgroundType === BG_SLIDER_TYPE_VIDEO){\n        return renderToString(<SlideBodyVideo {...values}/>);\n      }\n    } catch (e) {\n      console.log(e);\n      return null;\n    }\n  };\n\n  onSubmit = (values) => {\n    const {history} = this.props;\n    const body = this.getSlideBody(values);\n    console.log(body);\n    if (values.hasOwnProperty('id')) {\n      return this.props.UpdateSlideAction({\n        body: {\n          body: body,\n        },\n        urlParams: {\n          id: values.id,\n        }\n      })\n        .then(({normalizedPayload}) => {\n          if (normalizedPayload && normalizedPayload.errors) {\n            throw normalizedPayload;\n          }\n          history.push('/slides');\n        })\n        .catch(error => {\n          throw new SubmissionError(normalizeSubmissionError(error));\n        })\n    } else {\n      return this.props.CreateSlideAction({\n        body: {\n          body: body,\n        },\n      })\n        .then(({normalizedPayload}) => {\n          if (normalizedPayload && normalizedPayload.errors) {\n            throw normalizedPayload;\n          }\n          history.push('/slides');\n        })\n        .catch(error => {\n          throw new SubmissionError(normalizeSubmissionError(error));\n        })\n    }\n  };\n\n  render() {\n    const {handleSubmit, pristine, submitting, error, values} = this.props;\n    return (\n      <form onSubmit={handleSubmit(this.onSubmit)}>\n          <SlidePreview\n            values={values}\n          />\n          <Row>\n            <Col xs=\"6\">\n              {\n                values && values.backgroundType === BG_SLIDER_TYPE_IMAGE &&\n                <Field\n                  name={\"image\"}\n                  component={UploadImage}\n                  type={\"file\"}\n                />\n              }\n\n              {\n                values && values.backgroundType === BG_SLIDER_TYPE_VIDEO &&\n                <Field\n                  name={\"image\"}\n                  component={UploadVideo}\n                  type={\"file\"}\n                />\n              }\n            </Col>\n\n            <Col xs=\"6\">\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"backgroundType\"\n                component={FormSelect}\n                label={\"Тип фона\"}\n                type=\"select\"\n                data={[\n                  {\n                    name: 'Изображение',\n                    id: BG_SLIDER_TYPE_IMAGE,\n                  },\n                  {\n                    name: 'Видео',\n                    id: BG_SLIDER_TYPE_VIDEO,\n                  },\n                ]}\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"position\"\n                component={FormSelect}\n                label={\"Позиционирование контента\"}\n                type=\"select\"\n                data={[\n                  {\n                    name: 'Свурху слева',\n                    id: 'top-left',\n                  },\n                  {\n                    name: 'Сверху по центру',\n                    id: 'top-middle',\n                  },\n                  {\n                    name: 'Сверху справа',\n                    id: 'top-right',\n                  },\n\n                  {\n                    name: 'Посередине слева',\n                    id: 'middle-left',\n                  },\n                  {\n                    name: 'Посередине',\n                    id: 'middle-center',\n                  },\n                  {\n                    name: 'Посередине справа',\n                    id: 'middle-right',\n                  },\n                  {\n                    name: 'Снизу слева',\n                    id: 'bottom-left',\n                  },\n                  {\n                    name: 'Снизу по середине',\n                    id: 'bottom-center',\n                  },\n                  {\n                    name: 'Снизу справа',\n                    id: 'bottom-right',\n                  },\n                ]}\n              />\n            </Col>\n            <Col xs=\"7\">\n              <Field\n                name=\"backDrop\"\n                component={Checkbox}\n                label={\"Включить фон для контента?\"}\n                type=\"checkbox\"\n                value={true}\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"buttonLabel\"\n                component={TextField}\n                label={\"Текст кнопки\"}\n                type=\"text\"\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"buttonLink\"\n                component={TextField}\n                label={\"Ссылка кнопки\"}\n                type=\"text\"\n              />\n            </Col>\n            <Col xs={12}>\n              <Field\n                name={\"body\"}\n                component={FormCKEditor}\n                label={\"Контент\"}\n                type={\"text\"}\n                ref={\"CKEDITOR\"}\n\n                config={{\n                  toolbarGroups: [\n                    {name: 'basicstyles', groups: ['basicstyles']},\n                    '/',\n                    {name: 'styles'},\n                    {name: 'colors'},\n                    {name: 'tools'},\n                  ]\n                }}\n\n              />\n            </Col>\n          </Row>\n\n          {\n            error && <Alert className={'pb-3'} color=\"danger\">\n              {error}\n            </Alert>\n          }\n\n          <Row className={'pb-3'}>\n            <Col xs=\"12\" md=\"6\" lg=\"4\">\n              <Button\n                color=\"primary\"\n                type=\"submit\"\n                // disabled={pristine || submitting}\n              >\n                Сохранить\n              </Button>\n            </Col>\n          </Row>\n      </form>)\n  }\n}\n\nFormSlidesEditor = connect(state => ({\n  values: getFormValues('FormSlidesEditor')(state),\n}))(FormSlidesEditor);\n\nFormSlidesEditor = reduxForm({\n  form: 'FormSlidesEditor'\n})(FormSlidesEditor);\n\nFormSlidesEditor = connectRestEasy(\n  (state, ownProps) => ({\n    isRetrievingCreateSlide: isRetrievingCreateSlide(state, ownProps),\n    isRetrievingUpdateSlide: isRetrievingUpdateSlide(state, ownProps),\n  }),\n  dispatch => ({\n    CreateSlideAction: (options) => dispatch(CreateSlideAction(options)),\n    UpdateSlideAction: (options) => dispatch(UpdateSlideAction(options)),\n  })\n)(FormSlidesEditor);\n\nFormSlidesEditor = withRouter(FormSlidesEditor);\n\nexport default FormSlidesEditor;\n","import {contentPosition} from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\n\nconst trim = function (string) {\n  return string ? string.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '') : string;\n}\n\n/**\n * @param {object} domBody - dom object\n * @return {'video'|'image'}\n * @desc check type background slide\n * */\nconst GetBGTypeSlideBody = (domBody) => {\n  let result = domBody.getElementsByTagName('video');\n  return result.length ? 'video' : 'image';\n};\n\n\n/**\n * @param {string} body\n * @return {boolean}\n * @desc check backdrop\n * */\nconst CheckBackDropSlideBody = (body) => body.indexOf('slides_item-caption--back-drop') !== -1;\n\n/**\n * @return {object} [format]\n * @return {object} [format].src\n * @return {object} [format].type\n * */\nconst GetVideoFromSlideBody = (domBody) => {\n  let video = domBody.getElementsByTagName('video');\n  if (video && video.length) {\n    const result = {};\n    for (let i = 0; i < video[0].children.length; i += 1) {\n      result[video[0].children[i].type] = {\n        src: video[0].children[i].src,\n        type: video[0].children[i].type,\n      };\n    }\n    return result;\n  }\n  return ''\n};\n/**\n * @return {string}\n * */\nconst GetImageFromSlideBody = (domBody) => {\n  let image = domBody.getElementsByClassName('slides_item-img');\n  if (image.length) {\n    return image[0].src;\n  }\n  return \"\";\n};\n/**\n * @return {string}\n * */\nconst GetContentSlideBody = (domBody) => {\n  const content = domBody.getElementsByClassName('slides_item-caption-content');\n  if (content && content.length) {\n    return trim(content[0].innerHTML);\n  }\n  return '';\n};\n\n/** */\nconst GetButtonSlideBody = (domBody) => {\n  const button = domBody.getElementsByClassName('button-base');\n  if (button && button.length) {\n    return {\n      buttonLabel: trim(button[0].textContent),\n      buttonLink: button[0].href,\n    }\n  }\n  return {\n    buttonLabel: null,\n    buttonLink: null,\n  }\n};\n\n/**\n * @return {string}\n * */\nconst GetPositionContentSlideBody = (body) => {\n  for (let prop in contentPosition) {\n    if (body.indexOf(prop) !== -1) {\n      return prop\n    }\n  }\n  return 'middle-middle';\n};\n\n/** */\nexport const SlideParseBody = (body) => {\n  let result = {\n    backgroundType: 'image', // GetBGTypeSlideBody\n    position: 'top-middle', // GetPositionContentSlideBody\n    backDrop: true, // CheckBackDropSlideBody\n    buttonLabel: null, // GetPositionContentSlideBody\n    buttonLink: null, // GetPositionContentSlideBody\n    body: null, // GetContentSlideBody\n    image: null, // GetImageFromSlideBody && GetVideoFromSlideBody\n  };\n  const domBody = new DOMParser().parseFromString(body, 'text/html').body;\n  switch (GetBGTypeSlideBody(domBody)) {\n    case(BG_SLIDER_TYPE_IMAGE): {\n      result.backgroundType = BG_SLIDER_TYPE_IMAGE;\n      result.image = GetImageFromSlideBody(domBody);\n      break;\n    }\n    case(BG_SLIDER_TYPE_VIDEO): {\n      result.backgroundType = BG_SLIDER_TYPE_VIDEO;\n      result.image = GetVideoFromSlideBody(domBody);\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n  result.backDrop = CheckBackDropSlideBody(body);\n  result.body = GetContentSlideBody(domBody);\n  result.position = GetPositionContentSlideBody(body);\n  result = {\n    ...result,\n    ...GetButtonSlideBody(domBody),\n  };\n  return result;\n};\n","import React, {Component} from 'react';\nimport {connect as connectRestEasy} from \"@brigad/redux-rest-easy\";\nimport shallowequal from \"shallowequal\";\nimport '../../slides.css';\nimport FormSlidesEditor from \"./Components/FormSlidesEditor/FormSlidesEditor\";\nimport {\n  GetSlideAction, GetSlideById,\n  isRetrievingGetSlide\n} from \"../../../../store/reduxRestEasy/Slides/SlidesResource\";\nimport {SlideParseBody} from \"./Components/SlideParseBody/SlideParseBody\";\nimport {BG_SLIDER_TYPE_IMAGE} from \"../../../../shared/constants\";\nimport PageContainer from \"../../../../components/PageContainer/PageContainer\";\n\n\nexport class SlideEditor extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps, this.props);\n  }\n\n  componentWillMount() {\n    const {match: {params}} = this.props;\n    if (params && params.id) {\n      this.props.GetSlideAction({\n        urlParams: {\n          id: params.id,\n        }\n      });\n    }\n  }\n\n  createInitialValues = () => {\n    const {GetSlideById, match: {params}} = this.props;\n    const slide = params && params.id && GetSlideById(params.id);\n    let initialValues = {\n      backgroundType: BG_SLIDER_TYPE_IMAGE,\n      position: 'middle-middle',\n      backDrop: false,\n      buttonLabel: null,\n      buttonLink: null,\n      body: \"\",\n      image: \"\",\n    };\n    if (slide) {\n      initialValues = {\n        ...slide,\n        ...SlideParseBody(slide.body),\n      };\n    }\n    return initialValues;\n  };\n\n  render() {\n    const {isRetrievingGetSlide} = this.props;\n    if (isRetrievingGetSlide) {\n      return <div>Loading....</div>\n    }\n\n    return (\n      <PageContainer\n        header={'Создать слайд'}\n      >\n        <FormSlidesEditor\n          initialValues={this.createInitialValues()}\n        />\n      </PageContainer>)\n  }\n}\n\nSlideEditor = connectRestEasy(\n  (state, ownProps) => ({\n    GetSlideById: (id) => {\n      const data = GetSlideById(state, 'slides', id);\n      if (data) {\n        return data[id];\n      }\n      return null;\n    },\n    isRetrievingGetSlide: isRetrievingGetSlide(state, ownProps),\n  }),\n  dispatch => ({\n    GetSlideAction: (options) => dispatch(GetSlideAction(options)),\n  })\n)(SlideEditor);\n\nexport default SlideEditor;\n"],"sourceRoot":""}