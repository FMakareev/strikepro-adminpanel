{"version":3,"sources":["config.js","store/reduxRestEasy/.helpers/networkHelpers.js","store/reduxRestEasy/.helpers/handleStatusCode.js","store/reduxRestEasy/.helpers/ResourceHelper.js","store/reduxRestEasy/.helpers/normalizerHelpers.js","components/PageContainer/PageContainer.js","components/TextField/TextField.js","helpers/normalizeSubmissionError.js","components/Form/FormSelect.js","components/Form/form_ckeditor.js","store/reduxRestEasy/Slides/SlidesResource.js","components/Checkbox/Checkbox.js","views/Slides/View/SlidesEditor/Components/SlidePreviewVideo/SlidePreviewVideo.js","views/Slides/View/SlidesEditor/Components/SlidePreviewImage/SlidePreviewImage.js","views/Slides/View/SlidesEditor/Components/SlidePreviewContent/SlidePreviewContent.js","views/Slides/View/PropTypes/index.js","shared/constants.js","views/Slides/View/SlidesEditor/Components/SlidePreview/SlidePreview.js","views/Slides/View/SlidesEditor/Components/UploadFileButton/UploadFileButton.js","views/Slides/View/SlidesEditor/Components/UploadVideo/UploadVideo.js","views/Slides/View/SlidesEditor/Components/UploadImage/UploadImage.js","views/Slides/View/SlidesEditor/Components/SlideBodyVideo/SlideBodyVideo.js","views/Slides/View/SlidesEditor/Components/SlideBodyImage/SlideBodyImage.js","views/Slides/View/SlidesEditor/Components/FormSlidesEditor/FormSlidesEditor.js","views/Slides/View/SlidesEditor/Components/SlideParseBody/SlideParseBody.js","views/Slides/View/SlidesEditor/index.js"],"names":["base","window","location","hostname","__webpack_exports__","api","login","logout","posts","post","categories","category","slides","tiles","tile_types","tile","nomenclature","nomenclatures","nomenclatureCharacteristic","typesOfNomenclature","fileupload","static_pages","url_alias","requestPOST","body","Object","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","method","credentials","headers","Accept","Content-type","JSON","stringify","requestGET","requestDELETE","requestPUT","__webpack_require__","d","handleStatusCode","_history__WEBPACK_IMPORTED_MODULE_0__","response","status","history","push","reload","NormalizationPayload","resourceName","_this","this","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","mergeResourceAndPayload","resources","payload","forEach","item","id","metadata","data","concat","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","removePayloadFromResources","payloadID","console","log","filter","warn","payloadToResource","_this$resourceName","arguments","length","undefined","entities","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","result","updateResource","normalizeError","errors","message","DeleteNormalizer","Normalizer","urlParams","PageContainer","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","reactstrap__WEBPACK_IMPORTED_MODULE_6__","_ref","header","children","footer","a","createElement","className","xs","TextField","reactstrap__WEBPACK_IMPORTED_MODULE_7__","input","label","type","placeholder","required","icon","_ref$meta","meta","touched","error","addonType","assign","valid","normalizeSubmissionError","_error","prop","Array","isArray","FormSelect","_Component","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_this$props","props","defaultValue","onChange","_this$props2","_this$props2$meta","valueKey","labelKey","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_8__","map","index","selected","reactstrap__WEBPACK_IMPORTED_MODULE_9__","color","Component","defaultProps","FormCKEditor","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","initialState","_this$props$meta","config","react__WEBPACK_IMPORTED_MODULE_6___default","react_ckeditor_component__WEBPACK_IMPORTED_MODULE_7___default","activeClass","language","filebrowserBrowseUrl","filebrowserImageBrowseUrl","filebrowserUploadUrl","filebrowserImageUploadUrl","imageUploadUrl","scriptUrl","content","events","change","evt","editor","getData","onSelect","cancel","paste","afterPaste","fileUploadRequest","xhr","fileLoader","setRequestHeader","withCredentials","fileUploadResponse","reactstrap__WEBPACK_IMPORTED_MODULE_10__","isInit","CreateSlideAction","DeleteSlideAction","GetSlideAction","GetSlidesAction","UpdateSlideAction","isRetrievingGetSlide","isRetrievingGetSlides","GetSlides","GetSlideById","isRetrievingUpdateSlide","isRetrievingCreateSlide","_brigad_redux_rest_easy__WEBPACK_IMPORTED_MODULE_0__","_helpers_ResourceHelper__WEBPACK_IMPORTED_MODULE_1__","_config__WEBPACK_IMPORTED_MODULE_2__","_helpers_handleStatusCode__WEBPACK_IMPORTED_MODULE_3__","_helpers_networkHelpers__WEBPACK_IMPORTED_MODULE_4__","_helpers_normalizerHelpers__WEBPACK_IMPORTED_MODULE_5__","SlidesResource","createResource","createSlide","url","normalizer","hasOwnProperty","networkHelpers","deleteSlide","getSlide","getSlides","updateSlide","actions","perform","selectors","resource","getResource","getResourceById","request","isPerforming","Checkbox","check","htmlFor","name","SliderPreviewVideo","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","nextProps","nextState","shallowequal","video","document","getElementById","load","play","e","react_default","width","loop","muted","autoPlay","values","src","React","SliderPreviewImage","image","alt","draggable","contentPosition","PropTypes","string","bool","top-left","top-middle","top-right","middle-left","middle-middle","middle-right","bottom-left","bottom-middle","bottom-right","slidesItemCaptionClassName","backDrop","position","classNames","defineProperty","slides_item-caption","slides_item-caption--back-drop","getContentPosition","SlidePreviewContent","buttonLabel","buttonLink","ReactHtmlParser","href","BG_SLIDER_TYPE_IMAGE","BG_SLIDER_TYPE_VIDEO","SlidePreview","_this$props$values","backgroundType","Card","CardHeader","CardBody","SlidePreviewImage","Components_SlidePreviewContent_SlidePreviewContent","SlidePreviewVideo","UploadFileButton","isLoading","uploadFile","accept","errorSubmit","FormGroup","Button","style","block","opacity","top","right","bottom","left","multiple","FormFeedback","UploadVideo","setNewVideoInStore","fileType","folder","_this$props$input","indexOf","objectSpread","target","files","replace","setState","formData","FormData","append","fetch","then","statusText","json","catch","_this$state","Components_UploadFileButton_UploadFileButton","get","UploadImage","SlideBodyVideo","SlideBodyImage","FormSlidesEditor","_getPrototypeOf2","_len","args","_key","getSlideBody","renderToString","Components_SlideBodyImage_SlideBodyImage","Components_SlideBodyVideo_SlideBodyVideo","onSubmit","normalizedPayload","SubmissionError","_ref2","handleSubmit","pristine","submitting","SlidePreview_SlidePreview","Row","Col","Field","component","ref","toolbarGroups","groups","Alert","md","lg","connect","getFormValues","reduxForm","form","connectRestEasy","ownProps","dispatch","options","withRouter","trim","SlideParseBody","domBody","DOMParser","parseFromString","getElementsByTagName","GetBGTypeSlideBody","getElementsByClassName","GetImageFromSlideBody","i","GetVideoFromSlideBody","CheckBackDropSlideBody","innerHTML","GetContentSlideBody","GetPositionContentSlideBody","button","textContent","GetButtonSlideBody","SlideEditor","createInitialValues","match","slide","params","initialValues","Components_FormSlidesEditor_FormSlidesEditor"],"mappings":"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","file":"static/js/25.75ec123f.chunk.js","sourcesContent":["\n\nlet base = '';\n\nswitch (window.location.hostname) {\n  case ('localhost'):{\n    base = 'https://dev.strikepro.ru';\n    break;\n  }\n  case ('admin.strikepro.ru'):{\n    base = 'https://dev.strikepro.ru';\n    break;\n  }\n  case ('strike.localhost'):{\n    base = 'http://strike.localhost';\n    break;\n  }\n}\n\n\n\nexport default {\n  base,\n  api: {\n    login: '/dashboard/auth/login',\n    logout: '/dashboard/auth/logout',\n\n    posts: '/dashboard/blog/posts',\n    post: '/dashboard/blog/post',\n\n    categories: '/dashboard/blog/categories',\n    category: '/dashboard/blog/category',\n\n    slides: '/dashboard/slides',\n\n    tiles: '/dashboard/mainfeeds',\n\n    tile_types: '/dashboard/mainfeed/types',\n    tile: '/dashboard/mainfeed',\n\n    nomenclature: '/dashboard/nomenclature',\n    nomenclatures: '/dashboard/nomenclatures',\n\n    nomenclatureCharacteristic: '/dashboard/nomenclature/characteristic',\n    typesOfNomenclature: '/dashboard/nomenclature/characteristic',\n    fileupload: '/dashboard/fileupload',\n\n    static_pages: '/dashboard/pages',\n    url_alias: '/dashboard/url_alias',\n  }\n}\n","export const requestPOST = (body) => {\n  return {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    },\n    ...(body? {body: JSON.stringify(body)} : {})\n\n  }\n};\n\nexport const requestGET = () => {\n  return {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    }\n  }\n};\n\nexport const requestDELETE = () => {\n  return {\n    method: 'DELETE',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    }\n  }\n};\n\nexport const requestPUT = (body) => {\n  return {\n    method: 'PUT',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    },\n    body: JSON.stringify(body),\n  }\n};\n","import history from \"../../../history\";\n\n\nexport const handleStatusCode = (response) => {\n  const {status} = response;\n  if (status === 401) {\n    history.push('#/login');\n    window.location.reload();\n    return response\n  }\n\n  if (status === 404) {\n    history.push('#/404');\n    window.location.reload();\n    return response\n  }\n\n\n  return response\n};\n\nexport default handleStatusCode;\n","export class NormalizationPayload {\n\n  resourceName = null;\n\n  constructor(resourceName) {\n    this.resourceName = resourceName;\n  }\n\n  /**\n   * @param {object} resources - объект с исходными ресурсами\n   * @param {array} payload - массив с новыми ресурсами\n   * @desc метод для добавления в существующие ресурсы новых ресурсов\n   * */\n  mergeResourceAndPayload = (resources, payload) => {\n    payload.forEach((item) => {\n      resources[this.resourceName][this.resourceName][item.id] = item;\n      resources[this.resourceName].metadata = {\n        data: [...resources[this.resourceName].metadata.data, item.id],\n      };\n    });\n    return resources;\n  };\n\n  /**\n   * @param {array} resources\n   * @param {string} payloadID\n   * @desc\n   * */\n  removePayloadFromResources = (resources, payloadID) => {\n    if (!payloadID) {\n      console.warn('payloadID undefined');\n      return resources;\n    }\n    console.log('removePayloadFromResources: ', this, resources, payloadID);\n    delete resources[this.resourceName][this.resourceName][payloadID];\n    resources[this.resourceName].metadata.data = resources[this.resourceName]\n      .metadata.data.filter(item => item !== payloadID);\n    return resources;\n  };\n\n  /**\n   * @param {array} payload\n   * @param {object} metadata\n   * @desc\n   * */\n  payloadToResource = (payload, metadata = {}) => {\n    const data = {\n      entities: {\n        [this.resourceName]: {\n          [this.resourceName]: {},\n          metadata: {}\n        },\n      },\n      result: []\n    };\n    if (payload) {\n      payload.forEach((item) => {\n        data.result.push(item.id);\n        data.entities[this.resourceName][this.resourceName][item.id] = item;\n      });\n    }\n    data.entities[this.resourceName].metadata = {\n      ...metadata,\n      data: data.result,\n    };\n    return data;\n  };\n\n  /**\n   * @param {object} resources - объект с исходными ресурсами\n   * @param {object} payload - массив с новыми ресурсами\n   * @desc метод для добавления в существующие ресурсы новых ресурсов\n   * */\n  updateResource = (resources, payload) => {\n    resources[this.resourceName][this.resourceName][payload.id] = payload;\n    return resources;\n  };\n\n  /**\n   * @param {object} payload\n   * @param {object} payload.errors\n   * @param {array} payload.errors.propName\n   * @param {string} payload.message\n   * */\n  normalizeError = (payload) => {\n    if(!payload.errors){\n      payload.errors = {};\n    }\n    return {\n      entities: {\n        ...payload,\n        message: [payload.message]\n      },\n      result: {errors: payload}\n    };\n  }\n\n}\n","\n\nexport const DeleteNormalizer = (Normalizer)=> (payload, resources, urlParams,) => {\n  if (payload.errors) {\n    return Normalizer.normalizeError(payload);\n  }\n  if (payload) {\n    return Normalizer.removePayloadFromResources(resources, urlParams.id);\n  }\n  return resources;\n};\n\n\nexport const CreateNormalizer = (Normalizer) => (payload, resources, urlParams) => {\n  if (!payload ) {\n    return null\n  }\n  if (payload.errors || payload.message) {\n    return Normalizer.normalizeError(payload);\n  }\n\n  if (resources.hasOwnProperty(Normalizer.resourceName)) {\n    return Normalizer.mergeResourceAndPayload(resources, [payload])\n  } else {\n    return Normalizer.payloadToResource([payload]);\n  }\n};\n\nexport const UpdateNormalizer = (Normalizer) => (payload, resources) => {\n  if (payload.errors || payload.message) {\n    return Normalizer.normalizeError(payload);\n  }\n  if (payload) {\n    return Normalizer.updateResource(resources, payload);\n  }\n  return resources;\n};\n\nexport const GetListNormalizer = (Normalizer) => (payload) => {\n  if (!payload && payload.error) {\n    return null;\n  }\n  if (Array.isArray(payload)) {\n    return Normalizer.payloadToResource(payload);\n  } else {\n    return Normalizer.payloadToResource(payload.data, payload);\n  }\n};\n\nexport const GetByIdNormalizer = (Normalizer) => (payload) => Normalizer.payloadToResource([payload])\n","import React from 'react';\nimport {Card, CardBody, CardHeader, Col, Row, CardFooter} from \"reactstrap\";\nexport const PageContainer =({header, children, footer})=>(<div className=\"animated fadeIn\">\n  <Row>\n    <Col xs=\"12\">\n      <Card>\n        {\n          header &&\n          <CardHeader>\n            <strong>\n              {header}\n            </strong>\n          </CardHeader>\n        }\n        <CardBody className={'card-body'}>\n          {children}\n        </CardBody>\n        {\n          footer &&\n          <CardFooter className={'card-footer'}>\n            {footer}\n          </CardFooter>\n        }\n      </Card>\n    </Col>\n  </Row>\n</div>);\n\n\nexport default PageContainer;\n","import React from \"react\";\nimport {FormFeedback, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText, Label} from \"reactstrap\";\n\nexport const TextField = ({input, label, type, placeholder, required, icon, meta: {touched, error}}) => (\n  <FormGroup className={touched ? error ? '' : 'was-validated' : ''}>\n    {\n      label && <Label>{label}</Label>\n    }\n    <InputGroup className=\"mb-3\">\n      {\n        icon &&\n        <InputGroupAddon addonType=\"prepend\">\n          <InputGroupText>\n            <i className={icon}/>\n          </InputGroupText>\n        </InputGroupAddon>\n      }\n\n      <Input\n        {...input}\n        type={type}\n        valid={touched ? !error : false}\n        className={touched ? error ? 'form-control-warning is-invalid' : '' : ''}\n        placeholder={placeholder || label}\n        required={required}/>\n      <FormFeedback\n        valid={touched ? !error : false}\n        className=\"help-block\">\n        {error}\n      </FormFeedback>\n    </InputGroup>\n\n  </FormGroup>)\n\nexport default TextField;\n","\n/**\n * @param {object} error\n * @param {object} error.errors\n * @param {array} error.message\n * */\nexport const normalizeSubmissionError = (error) => {\n  const data = {\n    _error: error.message ? error.message[0] : null,\n  };\n  for (let prop in error.errors) {\n    if (Array.isArray(error.errors[prop])) {\n      data[prop] = error.errors[prop][0];\n    }\n  }\n  return data;\n}\n","import React, {Component} from 'react';\nimport {Alert, FormGroup, Input, Label} from \"reactstrap\";\n\n\nexport class FormSelect extends Component {\n\n  static defaultProps = {\n    valueKey: 'id',\n    labelKey: 'name',\n  };\n\n  componentDidMount() {\n    const {\n      input,\n      defaultValue,\n    } = this.props;\n\n    if(!input.value && defaultValue){\n      input.onChange(defaultValue);\n    }\n\n  }\n\n  render() {\n    const {\n      input,\n      label,\n      type,\n      data,\n      meta: {touched, error},\n      valueKey,\n      labelKey,\n    } = this.props;\n    return (\n      <FormGroup>\n        <Label>{label}</Label>\n        <Input type={type} {...input} >\n          <option>выберите категорию...</option>\n          {\n            Array.isArray(data) && data.map((item, index) => (<option\n              key={index}\n              selected={item[valueKey] === input.value}\n              value={item[valueKey]}>\n              {item[labelKey]}\n            </option>))\n          }\n        </Input>\n        {\n          touched && error &&\n          <Alert color=\"danger\">\n            {error}\n          </Alert>\n\n        }\n      </FormGroup>\n    );\n  }\n}\n\n\nexport default FormSelect;\n","import React, {Component} from 'react';\nimport CKEditor from \"react-ckeditor-component\";\nimport {Alert, FormGroup, Label} from \"reactstrap\";\n\nclass FormCKEditor extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n  get initialState() {\n    return {\n      isInit: false,\n      editor: null\n    }\n  }\n\n  componentWillMount() {}\n\n\n  componentDidUpdate() {}\n\n\n  render() {\n    const {input, label, meta: {touched, error}, config} = this.props;\n\n    return (\n      <FormGroup>\n        <Label>{label}</Label>\n\n        <CKEditor\n          activeClass=\"p10\"\n          config={{\n            language: 'ru',\n\n            filebrowserBrowseUrl: 'http://new.strikepro.ru/ckfinder/browser',\n            filebrowserImageBrowseUrl: 'http://new.strikepro.ru/ckfinder/browser',\n\n            filebrowserUploadUrl:\n              'http://new.strikepro.ru/ckfinder/connector',\n            filebrowserImageUploadUrl:\n              'http://new.strikepro.ru/ckfinder/connector',\n            imageUploadUrl: '',\n            ...config,\n          }}\n          scriptUrl=\"//cdn.ckeditor.com/4.7.3/full/ckeditor.js\"\n          content={input.value}\n          events={{\n            \"change\": (evt) => {\n              return input.onChange(evt.editor.getData())\n            },\n            \"onSelect\": (evt) => {\n              console.log('onSelect:', evt);\n              evt.cancel();\n            },\n            \"paste\": (evt) => {\n              console.log('paste:', evt);\n              // evt.stop();\n            },\n            \"afterPaste\": (evt) => {\n              console.log('afterPaste:', evt);\n              // evt.stop();\n            },\n            \"fileUploadRequest\": (evt) => {\n              console.log('fileUploadRequest:', evt);\n              let xhr = evt.data.fileLoader.xhr;\n\n              xhr.setRequestHeader(\"Access-Control-Allow-Origin\", \"http://localhost:8080\");\n              xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n              xhr.setRequestHeader(\"Accept\", \"application/json\");\n\n              xhr.withCredentials = true;\n              // evt.stop();\n            },\n            \"fileUploadResponse\": (evt) => {\n              console.log('fileUploadResponse:', evt);\n              // evt.stop();\n            },\n          }}\n        />\n        {\n          touched && error &&\n          <Alert color=\"danger\">\n            {error}\n          </Alert>\n\n        }\n      </FormGroup>\n    )\n  }\n}\n\n\nexport default FormCKEditor;\n","import {createResource} from '@brigad/redux-rest-easy';\nimport {NormalizationPayload} from \"../.helpers/ResourceHelper\";\nimport config from \"../../../config\";\nimport {handleStatusCode} from \"../.helpers/handleStatusCode\";\nimport {requestDELETE, requestGET, requestPOST, requestPUT} from \"../.helpers/networkHelpers\";\nimport {DeleteNormalizer} from \"../.helpers/normalizerHelpers\";\n\n\nconst RESOURCE_NAME = 'slides';\n\nconst Normalizer = new NormalizationPayload(RESOURCE_NAME);\n\n\nexport const SlidesResource = createResource(RESOURCE_NAME)({\n  createSlide: {\n    method: 'POST',\n    url: `${config.base}${config.api.slides}`,\n    normalizer: (payload, resources, urlParams) => {\n      if (!payload ) {\n        return null\n      }\n      if (payload.errors || payload.message) {\n        return Normalizer.normalizeError(payload);\n      }\n\n      if (resources.hasOwnProperty(RESOURCE_NAME)) {\n        return Normalizer.mergeResourceAndPayload(resources, [payload])\n      } else {\n        return Normalizer.payloadToResource([payload]);\n      }\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestPOST: requestPOST\n    },\n  },\n  deleteSlide: {\n    method: 'DELETE',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: DeleteNormalizer(Normalizer),\n    networkHelpers: {\n      handleStatusCode,\n      requestDELETE: requestDELETE,\n    },\n  },\n  getSlide: {\n    method: 'GET',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: (payload) => Normalizer.payloadToResource([payload]),\n    networkHelpers: {\n      handleStatusCode,\n      requestGET: requestGET,\n    },\n  },\n  getSlides: {\n    method: 'GET',\n    url: `${config.base}${config.api.slides}`,\n    normalizer: (payload) => {\n      if (!payload && payload.error) {\n        return null;\n      }\n      if (Array.isArray(payload)) {\n        return Normalizer.payloadToResource(payload);\n      } else {\n        return Normalizer.payloadToResource(payload.data, payload);\n      }\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestGET: requestGET,\n    },\n  },\n  updateSlide: {\n    method: 'PUT',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: (payload, resources) => {\n      if (payload.errors) {\n        return Normalizer.normalizeError(payload);\n      }\n      if (payload) {\n        return Normalizer.updateResource(resources, payload);\n      }\n      return resources;\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestPUT: requestPUT,\n    },\n  },\n});\n\n\nconst {\n  actions: {\n    createSlide: {\n      perform: CreateSlideAction,\n    },\n    deleteSlide: {\n      perform: DeleteSlideAction,\n    },\n    getSlide: {\n      perform: GetSlideAction,\n    },\n    getSlides: {\n      perform: GetSlidesAction,\n    },\n    updateSlide: {\n      perform: UpdateSlideAction,\n    },\n  },\n  selectors: {\n    resource: {\n      getResource: GetSlides,\n      getResourceById: GetSlideById,\n    },\n    createSlide: {\n      request: {\n        getResource: CreateSlideGetResource,\n        isPerforming: isRetrievingCreateSlide,\n      }\n    },\n    deleteSlide: {\n      request: {\n        getResource: DeleteSlideGetResource,\n      }\n    },\n    getSlide: {\n      request: {\n        getResource: GetSlideGetResource,\n        isPerforming: isRetrievingGetSlide,\n      }\n    },\n    getSlides: {\n      request: {\n        getResource: GetSlidesGetResource,\n        isPerforming: isRetrievingGetSlides,\n      }\n    },\n    updateSlide: {\n      request: {\n        getResource: UpdateSlideGetResource,\n        isPerforming: isRetrievingUpdateSlide,\n      }\n    },\n  }\n} = SlidesResource;\n\nexport {\n  CreateSlideAction,\n  DeleteSlideAction,\n  GetSlideAction,\n  GetSlidesAction,\n  UpdateSlideAction,\n\n  CreateSlideGetResource,\n  DeleteSlideGetResource,\n  GetSlideGetResource,\n  GetSlidesGetResource,\n  UpdateSlideGetResource,\n  isRetrievingGetSlide,\n  isRetrievingGetSlides,\n  GetSlides,\n  GetSlideById,\n\n  isRetrievingUpdateSlide,\n  isRetrievingCreateSlide,\n}\n","import React, {Component} from 'react';\nimport {Alert, FormGroup, Label} from \"reactstrap\";\n\n\nexport class Checkbox extends Component {\n    render() {\n        const {label, input, type, value, meta: {touched, error}} = this.props;\n        return (<FormGroup>\n            <div className=\"checkbox\">\n                <Label check={value === input.value} htmlFor=\"checkbox1\">\n                    <input type={type} {...input} name=\"checkbox1\"\n                           value={value}/> {label}\n                </Label>\n            </div>\n            {\n                touched && error &&\n                <Alert color=\"danger\">\n                    {error}\n                </Alert>\n            }\n        </FormGroup>)\n    }\n}\n\nexport default Checkbox;\n","import React from 'react';\nimport shallowequal from \"shallowequal\";\n\n\nexport class SliderPreviewVideo extends React.Component {\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps.video, this.props.video)\n  }\n\n  componentDidUpdate() {\n    try {\n      const video = document.getElementById('backgroundVideo');\n      if (video) {\n        video.load();\n        video.play();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    const {video} = this.props;\n\n    return (<video width={'100%'} id=\"backgroundVideo\" loop=\"true\" muted=\"true\" autoPlay=\"true\">\n      {\n        video && Object.values(video)\n          .map(item => (<source src={item.src} type={item.type}/>))\n      }\n      Video not supported.\n    </video>)\n  }\n}\n\nexport default SliderPreviewVideo;\n","import React from 'react';\n\n\nexport const SliderPreviewImage = ({image}) => (<img\n  src={image}\n  alt=\"\"\n  className=\"slides_item-img\"\n  draggable=\"false\"\n/>);\n\nexport default SliderPreviewImage;\n","import React from 'react';\nimport ReactHtmlParser from \"react-html-parser\";\nimport classNames from \"classnames\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\n\nexport const contentPosition = {\n  'top-left': 'top-left slides_item-caption--top-left',\n  'top-middle': 'top-middle slides_item-caption--top-middle',\n  'top-right': 'top-right slides_item-caption--top-right',\n\n  'middle-left': 'middle-left slides_item-caption--middle-left',\n  'middle-middle': 'middle-middle slides_item-caption--middle-middle',\n  'middle-right': 'middle-right slides_item-caption--middle-right',\n\n  'bottom-left': 'bottom-left slides_item-caption--bottom-left',\n  'bottom-middle': 'bottom-middle slides_item-caption--bottom-middle',\n  'bottom-right': 'bottom-right slides_item-caption--bottom-right',\n};\n\nexport const getContentPosition = (position) => {\n  for (let prop in contentPosition) {\n    if (prop === position) {\n      return contentPosition[prop];\n    }\n  }\n  return contentPosition['middle-middle'];\n};\n\nconst slidesItemCaptionClassName = (backDrop = false, position = 'middle-center') => classNames({\n  'slides_item-caption': true,\n  'slides_item-caption--back-drop': backDrop,\n  [getContentPosition(position)]: true\n});\n\nexport const SlidePreviewContent = ({backDrop, position, body, buttonLabel, buttonLink}) => (<div\n  className={slidesItemCaptionClassName(backDrop, position)}\n>\n  {\n    body &&\n    <div className=\"slides_item-caption-content\">\n      {ReactHtmlParser(body)}\n    </div>\n  }\n  {\n    buttonLabel &&\n    <a href={buttonLink} className=\"button-base\">\n      {buttonLabel}\n    </a>\n  }\n</div>);\n\nSlidePreviewContent.propTypes = SlidePropTypes;\n\nexport default SlidePreviewContent;\n","import PropTypes from \"prop-types\";\n\n\nexport const SlidePropTypes = {\n  backgroundType: PropTypes.string,\n  position: PropTypes.string,\n  backDrop: PropTypes.bool,\n  buttonLabel: PropTypes.string,\n  buttonLink: PropTypes.string,\n  body:PropTypes.string,\n  image:PropTypes.string,\n};\n","\n\nexport const BG_SLIDER_TYPE_IMAGE = 'image';\nexport const BG_SLIDER_TYPE_VIDEO = 'video';\n","import React, {Component} from 'react';\nimport {Card, CardBody, CardHeader} from \"reactstrap\";\nimport shallowequal from 'shallowequal';\nimport SliderPreviewVideo from \"../SlidePreviewVideo/SlidePreviewVideo\";\nimport SliderPreviewImage from \"../SlidePreviewImage/SlidePreviewImage\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\n\n\nexport class SlidePreview extends Component {\n\n  static defaultProps = {\n    values:{\n      backgroundType: BG_SLIDER_TYPE_IMAGE,\n      image: '',\n    }\n  };\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps.values, this.props.values);\n  }\n\n  render() {\n    const {\n      backgroundType,\n      image,\n    } = this.props.values;\n    return (<Card>\n      <CardHeader>\n        <strong>Превью</strong>\n      </CardHeader>\n      <CardBody>\n        {\n          backgroundType === BG_SLIDER_TYPE_IMAGE && <div className={'slides_item'}>\n            <SliderPreviewImage image={image}/>\n            <SlidePreviewContent {...this.props.values}/>\n          </div>\n        }\n        {\n          backgroundType === BG_SLIDER_TYPE_VIDEO && <div className={'slides_item'}>\n            <SliderPreviewVideo\n              video={image}\n            />\n            <SlidePreviewContent {...this.props.values}/>\n          </div>\n        }\n      </CardBody>\n    </Card>)\n  }\n}\n\nexport default SlidePreview;\n","import React from 'react'\nimport {Button, FormFeedback, FormGroup} from \"reactstrap\";\n\nexport const UploadFileButton = ({\n                             isLoading,\n                             uploadFile,\n                             accept,\n                             label,\n                             errorSubmit\n                           }) => (<FormGroup>\n  <Button\n    style={{\n      position: 'relative',\n    }}\n    type={'button'}\n    block\n    color=\"primary\"\n  >\n    <input\n      accept={accept}\n      type='file'\n      style={{\n        opacity: '0',\n        position: 'absolute',\n        top: '0',\n        right: '0',\n        bottom: '0',\n        left: '0',\n        width: '100%'\n      }}\n      onChange={uploadFile}\n      multiple\n    />\n    {\n      !isLoading &&\n      <i className=\"fa fa-upload\"/>\n    }\n    {\n      isLoading &&\n      <i className=\"fa fa-spin fa-circle-o-notch\"/>\n    }\n    &nbsp;{label}\n  </Button>\n  {\n    errorSubmit &&\n    <FormFeedback\n      className={errorSubmit ? 'btn-block' : ''}\n    >\n      {errorSubmit}\n    </FormFeedback>\n  }\n</FormGroup>);\n\n\nUploadFileButton.defaultProps = {\n  label: 'Загрузить',\n  isLoading: false,\n  errorSubmit: null,\n  accept: '',\n};\n\nexport default UploadFileButton;\n","import React, {Component} from 'react';\nimport UploadFileButton from \"../UploadFileButton/UploadFileButton\";\nimport config from \"../../../../../../config\";\n\n\nconst fakeUploadFileServer = (formData) => {\n  return {\"status\": \"ok\", \"url\": `${formData.get('folder')}/${formData.get('file')}`}\n};\n\n\nexport class UploadVideo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n\n  get initialState() {\n    return {\n      isLoading: false,\n      errorSubmit: null,\n    }\n  }\n\n  setNewVideoInStore = (response, fileType, folder) => {\n    const {value, onChange} = this.props.input;\n    if (value.hasOwnProperty(fileType)) {\n      if (value[fileType] !== response.url) {\n        onChange({\n          [fileType]: {\n            type: fileType,\n            src: response.url,\n          }\n        })\n      }\n    } else {\n      for (let prop in value) {\n        if (value[prop].src.indexOf(folder) !== -1) {\n          onChange({\n            ...value,\n            [fileType]: {\n              type: fileType,\n              src: response.url,\n            }\n          });\n          return;\n        }\n      }\n      onChange({\n        [fileType]: {\n          type: fileType,\n          src: response.url,\n        }\n      })\n    }\n  };\n\n  uploadFile = e => {\n\n    const fileTypeRegexp = /[.mp4|.ogg|.webm]/g;\n    const fileType = e.target.files[0].type;\n    const folder = e.target.files[0].name.replace(fileTypeRegexp, '');\n\n    this.setState({\n      isLoading: true,\n    });\n    const formData = new FormData();\n\n    formData.append('file', e.target.files[0]);\n    formData.append('folder', folder);\n\n    // let response = fakeUploadFileServer(formData);\n\n\n    fetch(`${config.base}${config.api.fileupload}`,\n      {\n        credentials: 'include',\n        method: 'POST',\n        body: formData\n      })\n      .then(response => {\n        console.log('response: ', response);\n        if (response.status >= 400) {\n          this.setState({\n            isLoading: false,\n            errorSubmit: response.statusText,\n          })\n        }\n        return response.json();\n      })\n      .then(response => {\n        console.log('response: ', response);\n        if (response.status === 'ok') {\n          this.setNewVideoInStore(response, fileType, folder);\n        } else {\n          this.setState({\n            isLoading: false,\n            errorSubmit: 'Неизвестная ошибка',\n          })\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({\n          isLoading: false,\n        })\n      })\n  };\n\n\n  render() {\n    const {isLoading, errorSubmit} = this.state;\n    console.log(this.state);\n    return (<UploadFileButton\n      label={'Загрузка видео'}\n      isLoading={isLoading}\n      errorSubmit={errorSubmit}\n      uploadFile={this.uploadFile}\n      accept={\"video/mp4,video/ogg,video/webm\"}\n    />)\n  }\n\n}\n\nexport default UploadVideo;\n","import React, {Component} from 'react';\nimport UploadFileButton from \"../UploadFileButton/UploadFileButton\";\nimport config from \"../../../../../../config\";\n\n\nexport class UploadImage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n\n  get initialState() {\n    return {\n      isLoading: false,\n      errorSubmit: null,\n    }\n  }\n\n  uploadFile = e => {\n    const {onChange} = this.props.input;\n\n    const fileTypeRegexp = /[.mp4|.ogg|.webm]/g;\n    const folder = e.target.files[0].name.replace(fileTypeRegexp, '');\n\n    this.setState({\n      isLoading: true,\n    });\n    const formData = new FormData();\n\n    formData.append('file', e.target.files[0]);\n    formData.append('folder', folder);\n\n    fetch(`${config.base}${config.api.fileupload}`,\n      {\n        credentials: 'include',\n        method: 'POST',\n        body: formData\n      })\n      .then(response => {\n        console.log('response: ', response);\n        return response.json();\n      })\n      .then((response) => {\n        if (response.status === 'ok') {\n          onChange(response.url);\n          this.setState({\n            isLoading: false,\n            errorSubmit: true,\n          })\n        } else {\n          this.setState({\n            isLoading: false,\n            errorSubmit: true,\n          })\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({\n          isLoading: false,\n          errorSubmit: true,\n        })\n      })\n  };\n\n\n  render() {\n    const {isLoading, errorSubmit} = this.state;\n\n    return (<UploadFileButton\n      label={'Загрузка изображений'}\n      isLoading={isLoading}\n      errorSubmit={errorSubmit}\n      uploadFile={this.uploadFile}\n      accept={\"image/jpeg, image/pjpeg, image/png\"}\n    />)\n  }\n\n}\n\nexport default UploadImage;\n","import React from \"react\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\nimport SliderPreviewVideo from \"../SlidePreviewVideo/SlidePreviewVideo\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\n\n\nexport const SlideBodyVideo = (props)=>(<div className={'slides_item'}>\n  <SliderPreviewVideo video={props.image}/>\n  <SlidePreviewContent {...props}/>\n</div>);\n\n\nSlideBodyVideo.propTypes = SlidePropTypes;\n\nexport default SlideBodyVideo;\n","import React from \"react\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\nimport SliderPreviewImage from \"../SlidePreviewImage/SlidePreviewImage\";\n\n\nexport const SlideBodyImage = (props)=>(<div className={'slides_item'}>\n  <SliderPreviewImage image={props.image}/>\n  <SlidePreviewContent {...props}/>\n</div>);\n\n\nSlideBodyImage.propTypes = SlidePropTypes;\n\nexport default SlideBodyImage;\n","import React, {Component} from 'react';\nimport {Field, getFormValues, reduxForm, SubmissionError} from \"redux-form\";\nimport { renderToString } from 'react-dom/server'\nimport {connect} from \"react-redux\";\nimport {connect as connectRestEasy} from \"@brigad/redux-rest-easy\";\nimport {withRouter} from \"react-router-dom\";\nimport {Alert, Button, Col, Row} from \"reactstrap\";\n\nimport FormCKEditor from \"../../../../../../components/Form/form_ckeditor\";\nimport FormSelect from \"../../../../../../components/Form/FormSelect\";\nimport Checkbox from \"../../../../../../components/Checkbox/Checkbox\";\nimport {TextField} from \"../../../../../../components/TextField/TextField\";\nimport {\n  CreateSlideAction,\n  isRetrievingCreateSlide, isRetrievingUpdateSlide,\n  UpdateSlideAction\n} from \"../../../../../../store/reduxRestEasy/Slides/SlidesResource\";\nimport {normalizeSubmissionError} from \"../../../../../../helpers/normalizeSubmissionError\";\nimport {SlidePreview} from \"../SlidePreview/SlidePreview\";\nimport UploadVideo from \"../UploadVideo/UploadVideo\";\nimport UploadImage from \"../UploadImage/UploadImage\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\nimport SlideBodyVideo from \"../SlideBodyVideo/SlideBodyVideo\";\nimport SlideBodyImage from \"../SlideBodyImage/SlideBodyImage\";\n\n\nexport class FormSlidesEditor extends Component {\n\n  getSlideBody = (values) => {\n    try {\n      if(values.backgroundType === BG_SLIDER_TYPE_IMAGE){\n        return renderToString(<SlideBodyImage {...values}/>);\n      }\n      if(values.backgroundType === BG_SLIDER_TYPE_VIDEO){\n        return renderToString(<SlideBodyVideo {...values}/>);\n      }\n    } catch (e) {\n      console.log(e);\n      return null;\n    }\n  };\n\n  onSubmit = (values) => {\n    const {history} = this.props;\n    const body = this.getSlideBody(values);\n    console.log(body);\n    if (values.hasOwnProperty('id')) {\n      return this.props.UpdateSlideAction({\n        body: {\n          body: body,\n        },\n        urlParams: {\n          id: values.id,\n        }\n      })\n        .then(({normalizedPayload}) => {\n          if (normalizedPayload && normalizedPayload.errors) {\n            throw normalizedPayload;\n          }\n          history.push('/slides');\n        })\n        .catch(error => {\n          throw new SubmissionError(normalizeSubmissionError(error));\n        })\n    } else {\n      return this.props.CreateSlideAction({\n        body: {\n          body: body,\n        },\n      })\n        .then(({normalizedPayload}) => {\n          if (normalizedPayload && normalizedPayload.errors) {\n            throw normalizedPayload;\n          }\n          history.push('/slides');\n        })\n        .catch(error => {\n          throw new SubmissionError(normalizeSubmissionError(error));\n        })\n    }\n  };\n\n  render() {\n    const {handleSubmit, pristine, submitting, error, values} = this.props;\n    return (\n      <form onSubmit={handleSubmit(this.onSubmit)}>\n          <SlidePreview\n            values={values}\n          />\n          <Row>\n            <Col xs=\"6\">\n              {\n                values && values.backgroundType === BG_SLIDER_TYPE_IMAGE &&\n                <Field\n                  name={\"image\"}\n                  component={UploadImage}\n                  type={\"file\"}\n                />\n              }\n\n              {\n                values && values.backgroundType === BG_SLIDER_TYPE_VIDEO &&\n                <Field\n                  name={\"image\"}\n                  component={UploadVideo}\n                  type={\"file\"}\n                />\n              }\n            </Col>\n\n            <Col xs=\"6\">\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"backgroundType\"\n                component={FormSelect}\n                label={\"Тип фона\"}\n                type=\"select\"\n                data={[\n                  {\n                    name: 'Изображение',\n                    id: BG_SLIDER_TYPE_IMAGE,\n                  },\n                  {\n                    name: 'Видео',\n                    id: BG_SLIDER_TYPE_VIDEO,\n                  },\n                ]}\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"position\"\n                component={FormSelect}\n                label={\"Позиционирование контента\"}\n                type=\"select\"\n                data={[\n                  {\n                    name: 'Свурху слева',\n                    id: 'top-left',\n                  },\n                  {\n                    name: 'Сверху по центру',\n                    id: 'top-middle',\n                  },\n                  {\n                    name: 'Сверху справа',\n                    id: 'top-right',\n                  },\n\n                  {\n                    name: 'Посередине слева',\n                    id: 'middle-left',\n                  },\n                  {\n                    name: 'Посередине',\n                    id: 'middle-center',\n                  },\n                  {\n                    name: 'Посередине справа',\n                    id: 'middle-right',\n                  },\n                  {\n                    name: 'Снизу слева',\n                    id: 'bottom-left',\n                  },\n                  {\n                    name: 'Снизу по середине',\n                    id: 'bottom-center',\n                  },\n                  {\n                    name: 'Снизу справа',\n                    id: 'bottom-right',\n                  },\n                ]}\n              />\n            </Col>\n            <Col xs=\"7\">\n              <Field\n                name=\"backDrop\"\n                component={Checkbox}\n                label={\"Включить фон для контента?\"}\n                type=\"checkbox\"\n                value={true}\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"buttonLabel\"\n                component={TextField}\n                label={\"Текст кнопки\"}\n                type=\"text\"\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"buttonLink\"\n                component={TextField}\n                label={\"Ссылка кнопки\"}\n                type=\"text\"\n              />\n            </Col>\n            <Col xs={12}>\n              <Field\n                name={\"body\"}\n                component={FormCKEditor}\n                label={\"Контент\"}\n                type={\"text\"}\n                ref={\"CKEDITOR\"}\n\n                config={{\n                  toolbarGroups: [\n                    {name: 'basicstyles', groups: ['basicstyles']},\n                    '/',\n                    {name: 'styles'},\n                    {name: 'colors'},\n                    {name: 'tools'},\n                  ]\n                }}\n\n              />\n            </Col>\n          </Row>\n\n          {\n            error && <Alert className={'pb-3'} color=\"danger\">\n              {error}\n            </Alert>\n          }\n\n          <Row className={'pb-3'}>\n            <Col xs=\"12\" md=\"6\" lg=\"4\">\n              <Button\n                color=\"primary\"\n                type=\"submit\"\n                // disabled={pristine || submitting}\n              >\n                Сохранить\n              </Button>\n            </Col>\n          </Row>\n      </form>)\n  }\n}\n\nFormSlidesEditor = connect(state => ({\n  values: getFormValues('FormSlidesEditor')(state),\n}))(FormSlidesEditor);\n\nFormSlidesEditor = reduxForm({\n  form: 'FormSlidesEditor'\n})(FormSlidesEditor);\n\nFormSlidesEditor = connectRestEasy(\n  (state, ownProps) => ({\n    isRetrievingCreateSlide: isRetrievingCreateSlide(state, ownProps),\n    isRetrievingUpdateSlide: isRetrievingUpdateSlide(state, ownProps),\n  }),\n  dispatch => ({\n    CreateSlideAction: (options) => dispatch(CreateSlideAction(options)),\n    UpdateSlideAction: (options) => dispatch(UpdateSlideAction(options)),\n  })\n)(FormSlidesEditor);\n\nFormSlidesEditor = withRouter(FormSlidesEditor);\n\nexport default FormSlidesEditor;\n","import {contentPosition} from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\n\nconst trim = function (string) {\n  return string ? string.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '') : string;\n}\n\n/**\n * @param {object} domBody - dom object\n * @return {'video'|'image'}\n * @desc check type background slide\n * */\nconst GetBGTypeSlideBody = (domBody) => {\n  let result = domBody.getElementsByTagName('video');\n  return result.length ? 'video' : 'image';\n};\n\n\n/**\n * @param {string} body\n * @return {boolean}\n * @desc check backdrop\n * */\nconst CheckBackDropSlideBody = (body) => body.indexOf('slides_item-caption--back-drop') !== -1;\n\n/**\n * @return {object} [format]\n * @return {object} [format].src\n * @return {object} [format].type\n * */\nconst GetVideoFromSlideBody = (domBody) => {\n  let video = domBody.getElementsByTagName('video');\n  if (video && video.length) {\n    const result = {};\n    for (let i = 0; i < video[0].children.length; i += 1) {\n      result[video[0].children[i].type] = {\n        src: video[0].children[i].src,\n        type: video[0].children[i].type,\n      };\n    }\n    return result;\n  }\n  return ''\n};\n/**\n * @return {string}\n * */\nconst GetImageFromSlideBody = (domBody) => {\n  let image = domBody.getElementsByClassName('slides_item-img');\n  if (image.length) {\n    return image[0].src;\n  }\n  return \"\";\n};\n/**\n * @return {string}\n * */\nconst GetContentSlideBody = (domBody) => {\n  const content = domBody.getElementsByClassName('slides_item-caption-content');\n  if (content && content.length) {\n    return trim(content[0].innerHTML);\n  }\n  return '';\n};\n\n/** */\nconst GetButtonSlideBody = (domBody) => {\n  const button = domBody.getElementsByClassName('button-base');\n  if (button && button.length) {\n    return {\n      buttonLabel: trim(button[0].textContent),\n      buttonLink: button[0].href,\n    }\n  }\n  return {\n    buttonLabel: null,\n    buttonLink: null,\n  }\n};\n\n/**\n * @return {string}\n * */\nconst GetPositionContentSlideBody = (body) => {\n  for (let prop in contentPosition) {\n    if (body.indexOf(prop) !== -1) {\n      return prop\n    }\n  }\n  return 'middle-middle';\n};\n\n/** */\nexport const SlideParseBody = (body) => {\n  let result = {\n    backgroundType: 'image', // GetBGTypeSlideBody\n    position: 'top-middle', // GetPositionContentSlideBody\n    backDrop: true, // CheckBackDropSlideBody\n    buttonLabel: null, // GetPositionContentSlideBody\n    buttonLink: null, // GetPositionContentSlideBody\n    body: null, // GetContentSlideBody\n    image: null, // GetImageFromSlideBody && GetVideoFromSlideBody\n  };\n  const domBody = new DOMParser().parseFromString(body, 'text/html').body;\n  switch (GetBGTypeSlideBody(domBody)) {\n    case(BG_SLIDER_TYPE_IMAGE): {\n      result.backgroundType = BG_SLIDER_TYPE_IMAGE;\n      result.image = GetImageFromSlideBody(domBody);\n      break;\n    }\n    case(BG_SLIDER_TYPE_VIDEO): {\n      result.backgroundType = BG_SLIDER_TYPE_VIDEO;\n      result.image = GetVideoFromSlideBody(domBody);\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n  result.backDrop = CheckBackDropSlideBody(body);\n  result.body = GetContentSlideBody(domBody);\n  result.position = GetPositionContentSlideBody(body);\n  result = {\n    ...result,\n    ...GetButtonSlideBody(domBody),\n  };\n  return result;\n};\n","import React, {Component} from 'react';\nimport {connect as connectRestEasy} from \"@brigad/redux-rest-easy\";\nimport shallowequal from \"shallowequal\";\nimport '../../slides.css';\nimport FormSlidesEditor from \"./Components/FormSlidesEditor/FormSlidesEditor\";\nimport {\n  GetSlideAction, GetSlideById,\n  isRetrievingGetSlide\n} from \"../../../../store/reduxRestEasy/Slides/SlidesResource\";\nimport {SlideParseBody} from \"./Components/SlideParseBody/SlideParseBody\";\nimport {BG_SLIDER_TYPE_IMAGE} from \"../../../../shared/constants\";\nimport PageContainer from \"../../../../components/PageContainer/PageContainer\";\n\n\nexport class SlideEditor extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps, this.props);\n  }\n\n  componentWillMount() {\n    const {match} = this.props;\n    if (match && match.params && match.params.id) {\n      this.props.GetSlideAction({\n        urlParams: {\n          id: match.params.id,\n        }\n      });\n    }\n  }\n\n  createInitialValues = () => {\n    const {GetSlideById, match} = this.props;\n    const slide = match && match.params && match.params.id && GetSlideById(match.params.id);\n    let initialValues = {\n      backgroundType: BG_SLIDER_TYPE_IMAGE,\n      position: 'middle-middle',\n      backDrop: false,\n      buttonLabel: null,\n      buttonLink: null,\n      body: \"\",\n      image: \"\",\n    };\n    if (slide) {\n      initialValues = {\n        ...slide,\n        ...SlideParseBody(slide.body),\n      };\n    }\n    return initialValues;\n  };\n\n  render() {\n    const {isRetrievingGetSlide} = this.props;\n    if (isRetrievingGetSlide) {\n      return <div>Loading....</div>\n    }\n\n    return (\n      <PageContainer\n        header={'Создать слайд'}\n      >\n        <FormSlidesEditor\n          initialValues={this.createInitialValues()}\n        />\n      </PageContainer>)\n  }\n}\n\nSlideEditor = connectRestEasy(\n  (state, ownProps) => ({\n    GetSlideById: (id) => {\n      const data = GetSlideById(state, 'slides', id, ownProps);\n      if (data) {\n        return data[id];\n      }\n      return null;\n    },\n    isRetrievingGetSlide: isRetrievingGetSlide(state, ownProps),\n  }),\n  dispatch => ({\n    GetSlideAction: (options) => dispatch(GetSlideAction(options)),\n  })\n)(SlideEditor);\n\nexport default SlideEditor;\n"],"sourceRoot":""}