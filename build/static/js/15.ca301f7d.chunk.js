(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{549:function(e,t,a){"use strict";var n="";switch(window.location.hostname){case"localhost":case"admin.strikepro.ru":n="https://dev.strikepro.ru";break;case"strike.localhost":n="http://strike.localhost"}t.a={base:n,api:{login:"/dashboard/auth/login",logout:"/dashboard/auth/logout",posts:"/dashboard/blog/posts",post:"/dashboard/blog/post",categories:"/dashboard/blog/categories",category:"/dashboard/blog/category",slides:"/dashboard/slides",tiles:"/dashboard/mainfeeds",tile_types:"/dashboard/mainfeed/types",tile:"/dashboard/mainfeed",nomenclature:"/dashboard/nomenclature",nomenclatures:"/dashboard/nomenclatures",nomenclatureCharacteristic:"/dashboard/nomenclature/characteristic",typesOfNomenclature:"/dashboard/nomenclature/characteristic",fileupload:"/dashboard/fileupload",static_pages:"/dashboard/pages",url_alias:"/dashboard/url_alias"}}},551:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"d",function(){return s});var n=a(547),r=function(e){return Object(n.a)({method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}},e?{body:JSON.stringify(e)}:{})},o=function(){return{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}},i=function(){return{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}},s=function(e){return{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}}},555:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(288),r=function(e){var t=e.status;return 401===t?(n.a.push("#/login"),window.location.reload(),e):404===t?(n.a.push("#/404"),window.location.reload(),e):e}},556:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(547),r=a(558),o=a(18),i=a(185),s=function e(t){var a=this;Object(i.a)(this,e),this.resourceName=null,this.mergeResourceAndPayload=function(e,t){return t.forEach(function(t){e[a.resourceName][a.resourceName][t.id]=t,e[a.resourceName].metadata={data:[].concat(Object(o.a)(e[a.resourceName].metadata.data),[t.id])}}),e},this.removePayloadFromResources=function(e,t){return t?(console.log("removePayloadFromResources: ",a,e,t),delete e[a.resourceName][a.resourceName][t],e[a.resourceName].metadata.data=e[a.resourceName].metadata.data.filter(function(e){return e!==t}),e):(console.warn("payloadID undefined"),e)},this.payloadToResource=function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={entities:Object(r.a)({},a.resourceName,(t={},Object(r.a)(t,a.resourceName,{}),Object(r.a)(t,"metadata",{}),t)),result:[]};return e&&e.forEach(function(e){i.result.push(e.id),i.entities[a.resourceName][a.resourceName][e.id]=e}),i.entities[a.resourceName].metadata=Object(n.a)({},o,{data:i.result}),i},this.updateResource=function(e,t){return e[a.resourceName][a.resourceName][t.id]=t,e},this.normalizeError=function(e){return e.errors||(e.errors={}),{entities:Object(n.a)({},e,{message:[e.message]}),result:{errors:e}}},this.resourceName=t}},557:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return function(t,a,n){return t.errors?e.normalizeError(t):t?e.removePayloadFromResources(a,n.id):a}}},561:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(0),r=a.n(n),o=a(699),i=a(700),s=a(573),u=a(574),c=a(562),l=a(616),d=a(581),p=function(e){var t=e.input,a=e.label,n=e.type,p=e.placeholder,f=e.required,h=e.icon,m=e.meta,g=m.touched,v=m.error;return r.a.createElement(o.a,{className:g?v?"":"was-validated":""},a&&r.a.createElement(i.a,null,a),r.a.createElement(s.a,{className:"mb-3"},h&&r.a.createElement(u.a,{addonType:"prepend"},r.a.createElement(c.a,null,r.a.createElement("i",{className:h}))),r.a.createElement(l.a,Object.assign({},t,{type:n,valid:!!g&&!v,className:g&&v?"form-control-warning is-invalid":"",placeholder:p||a,required:f})),r.a.createElement(d.a,{valid:!!g&&!v,className:"help-block"},v)))}},570:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){var t={_error:e.message?e.message[0]:null};for(var a in e.errors)Array.isArray(e.errors[a])&&(t[a]=e.errors[a][0]);return t}},572:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return e?void 0:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},579:function(e,t,a){"use strict";var n=a(185),r=a(186),o=a(188),i=a(187),s=a(189),u=a(0),c=a.n(u),l=a(699),d=a(700),p=a(616),f=a(658),h=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.input,a=e.defaultValue;!t.value&&a&&t.onChange(a)}},{key:"render",value:function(){var e=this.props,t=e.input,a=e.label,n=e.type,r=e.data,o=e.meta,i=o.touched,s=o.error,u=e.valueKey,h=e.labelKey;return c.a.createElement(l.a,null,c.a.createElement(d.a,null,a),c.a.createElement(p.a,Object.assign({type:n},t),c.a.createElement("option",null,"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e..."),Array.isArray(r)&&r.map(function(e,a){return c.a.createElement("option",{key:a,selected:e[u]===t.value,value:e[u]},e[h])})),i&&s&&c.a.createElement(f.a,{color:"danger"},s))}}]),t}(u.Component);h.defaultProps={valueKey:"id",labelKey:"name"},t.a=h},585:function(e,t,a){"use strict";a.d(t,"a",function(){return p}),a.d(t,"b",function(){return f}),a.d(t,"c",function(){return h}),a.d(t,"f",function(){return m}),a.d(t,"g",function(){return g}),a.d(t,"i",function(){return k}),a.d(t,"j",function(){return w}),a.d(t,"e",function(){return y}),a.d(t,"d",function(){return O}),a.d(t,"h",function(){return j});var n=a(190),r=a(549),o=a(555),i=a(551),s=a(556),u=a(557),c=new s.a("posts"),l=Object(n.b)("posts")({createPost:{method:"POST",url:"".concat(r.a.base).concat(r.a.api.post),normalizer:function(e,t,a){return console.log("createPost: ",e,t,a),e?e.errors||e.message?c.normalizeError(e):t.hasOwnProperty("posts")?c.mergeResourceAndPayload(t,[e]):c.payloadToResource([e]):null},networkHelpers:{handleStatusCode:o.a,requestPOST:i.c}},deletePost:{method:"DELETE",url:"".concat(r.a.base).concat(r.a.api.post,"/::id"),normalizer:Object(u.a)(c),networkHelpers:{handleStatusCode:o.a,requestDELETE:i.a}},getPost:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.post,"/::id"),normalizer:function(e){return c.payloadToResource([e])},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},getPosts:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.posts),normalizer:function(e){return!e&&e.error?null:Array.isArray(e)?c.payloadToResource(e):c.payloadToResource(e.data,e)},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},updatePost:{method:"PUT",url:"".concat(r.a.base).concat(r.a.api.post,"/::id"),normalizer:function(e,t){return e.errors?c.normalizeError(e):e?c.updateResource(t,e):t},networkHelpers:{handleStatusCode:o.a,requestPUT:i.d}}}),d=l.actions,p=d.createPost.perform,f=d.deletePost.perform,h=d.getPost.perform,m=d.getPosts.perform,g=d.updatePost.perform,v=l.selectors,b=v.resource,y=b.getResource,O=b.getResourceById,E=v.createPost.request,j=(E.getResource,E.isPerforming),P=(v.deletePost.request.getResource,v.getPost.request),k=(P.getResource,P.isPerforming),C=v.getPosts.request,w=(C.getResource,C.isPerforming),T=v.updatePost.request;T.getResource,T.isPerforming},586:function(e,t,a){"use strict";a.d(t,"g",function(){return c}),a.d(t,"a",function(){return f}),a.d(t,"b",function(){return h}),a.d(t,"c",function(){return m}),a.d(t,"f",function(){return g}),a.d(t,"h",function(){return v}),a.d(t,"j",function(){return C}),a.d(t,"k",function(){return T}),a.d(t,"e",function(){return O}),a.d(t,"d",function(){return E}),a.d(t,"l",function(){return _}),a.d(t,"i",function(){return P});var n=a(190),r=a(549),o=a(555),i=a(551),s=a(556),u=a(557),c="UrlAlias",l=new s.a(c),d=Object(n.b)(c)({createUrlAlias:{method:"POST",url:"".concat(r.a.base).concat(r.a.api.url_alias),normalizer:function(e,t,a){return console.log("createUrlAlias: ",e,t,a),e?e.errors?l.normalizeError(e):t.hasOwnProperty(c)?l.mergeResourceAndPayload(t,[e]):l.payloadToResource([e]):null},networkHelpers:{handleStatusCode:o.a,requestPOST:i.c}},deleteUrlAlias:{method:"DELETE",url:"".concat(r.a.base).concat(r.a.api.url_alias,"/::id"),normalizer:Object(u.a)(l),networkHelpers:{handleStatusCode:o.a,requestDELETE:i.a}},getUrlAlias:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.url_alias,"/::id"),normalizer:function(e){return l.payloadToResource([e])},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},getUrlAliases:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.url_alias),normalizer:function(e){return!e&&e.error?null:Array.isArray(e)?l.payloadToResource(e):l.payloadToResource(e.data,e)},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},updateUrlAlias:{method:"PUT",url:"".concat(r.a.base).concat(r.a.api.url_alias,"/::id"),normalizer:function(e,t){return e.errors?l.normalizeError(e):e?l.updateResource(t,e):t},networkHelpers:{handleStatusCode:o.a,requestPUT:i.d}}}),p=d.actions,f=p.createUrlAlias.perform,h=p.deleteUrlAlias.perform,m=p.getUrlAlias.perform,g=p.getUrlAliases.perform,v=p.updateUrlAlias.perform,b=d.selectors,y=b.resource,O=y.getResource,E=y.getResourceById,j=b.createUrlAlias.request,P=(j.getResource,j.isPerforming),k=(b.deleteUrlAlias.request.getResource,b.getUrlAlias.request),C=(k.getResource,k.isPerforming),w=b.getUrlAliases.request,T=(w.getResource,w.isPerforming),R=b.updateUrlAlias.request,_=(R.getResource,R.isPerforming)},587:function(e,t,a){"use strict";a.d(t,"a",function(){return p}),a.d(t,"b",function(){return f}),a.d(t,"e",function(){return h}),a.d(t,"d",function(){return m}),a.d(t,"g",function(){return g}),a.d(t,"c",function(){return y}),a.d(t,"f",function(){return O}),a.d(t,"h",function(){return w}),a.d(t,"j",function(){return k}),a.d(t,"i",function(){return j}),a.d(t,"k",function(){return R});var n=a(190),r=a(549),o=a(555),i=a(551),s=a(556),u=a(557),c=new s.a("categories"),l=Object(n.b)("categories")({createCategory:{method:"POST",url:"".concat(r.a.base).concat(r.a.api.category),normalizer:function(e,t){return!e&&e.error?null:t.hasOwnProperty("categories")?c.mergeResourceAndPayload(t,[e]):c.payloadToResource([e])},networkHelpers:{handleStatusCode:o.a,requestPOST:i.c}},deleteCategory:{method:"DELETE",url:"".concat(r.a.base).concat(r.a.api.category,"/::id"),normalizer:Object(u.a)(c),networkHelpers:{handleStatusCode:o.a,requestDELETE:i.a}},getCategory:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.category,"/::id"),normalizer:function(e){return c.payloadToResource([e])},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},getCategories:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.categories),normalizer:function(e){return!e&&e.error?null:Array.isArray(e)?c.payloadToResource(e):c.payloadToResource(e.data,e)},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},updateCategory:{method:"PUT",url:"".concat(r.a.base).concat(r.a.api.category,"/::id"),normalizer:function(e,t){return e?c.updateResource(t,e):t},networkHelpers:{handleStatusCode:o.a,requestPUT:i.d}}}),d=l.actions,p=d.createCategory.perform,f=d.deleteCategory.perform,h=d.getCategory.perform,m=d.getCategories.perform,g=d.updateCategory.perform,v=l.selectors,b=v.resource,y=b.getResource,O=b.getResourceById,E=v.createCategory.request,j=(E.getResource,E.isPerforming),P=(v.deleteCategory.request.getResource,v.getCategory.request),k=(P.getResource,P.isPerforming),C=v.getCategories.request,w=(C.getResource,C.isPerforming),T=v.updateCategory.request,R=(T.getResource,T.isPerforming)},598:function(e,t,a){"use strict";var n=a(547),r=a(185),o=a(186),i=a(188),s=a(187),u=a(189),c=a(0),l=a.n(c),d=a(599),p=a.n(d),f=a(699),h=a(700),m=a(658),g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state=a.initialState,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.input,a=e.label,r=e.meta,o=r.touched,i=r.error,s=e.config;return l.a.createElement(f.a,null,l.a.createElement(h.a,null,a),l.a.createElement(p.a,{activeClass:"p10",config:Object(n.a)({language:"ru",filebrowserBrowseUrl:"http://new.strikepro.ru/ckfinder/browser",filebrowserImageBrowseUrl:"http://new.strikepro.ru/ckfinder/browser",filebrowserUploadUrl:"http://new.strikepro.ru/ckfinder/connector",filebrowserImageUploadUrl:"http://new.strikepro.ru/ckfinder/connector",imageUploadUrl:""},s),scriptUrl:"//cdn.ckeditor.com/4.7.3/full/ckeditor.js",content:t.value,events:{change:function(e){return t.onChange(e.editor.getData())},onSelect:function(e){console.log("onSelect:",e),e.cancel()},paste:function(e){console.log("paste:",e)},afterPaste:function(e){console.log("afterPaste:",e)},fileUploadRequest:function(e){console.log("fileUploadRequest:",e);var t=e.data.fileLoader.xhr;t.setRequestHeader("Access-Control-Allow-Origin","http://localhost:8080"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Accept","application/json"),t.withCredentials=!0},fileUploadResponse:function(e){console.log("fileUploadResponse:",e)}}}),o&&i&&l.a.createElement(m.a,{color:"danger"},i))}},{key:"initialState",get:function(){return{isInit:!1,editor:null}}}]),t}(c.Component);t.a=g},599:function(e,t,a){"use strict";e.exports=a(600)},600:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(0)),o=s(a(24)),i=s(a(62));function s(e){return e&&e.__esModule?e:{default:e}}var u=a(601),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onLoad=a.onLoad.bind(a),a.state={isScriptLoaded:e.isScriptLoaded},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"componentDidMount",value:function(){this.state.isScriptLoaded?this.onLoad():u(this.props.scriptUrl,this.onLoad)}},{key:"componentWillReceiveProps",value:function(e){var t=this.editorInstance;t&&t.getData()!==e.content&&t.setData(e.content)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"onLoad",value:function(){if(!this.unmounting)if(this.setState({isScriptLoaded:!0}),window.CKEDITOR)for(var e in this.editorInstance=window.CKEDITOR.appendTo(i.default.findDOMNode(this),this.props.config,this.props.content),this.props.events){var t=this.props.events[e];this.editorInstance.on(e,t)}else console.error("CKEditor not found")}},{key:"render",value:function(){return r.default.createElement("div",{className:this.props.activeClass})}}]),t}();c.defaultProps={content:"",config:{},isScriptLoaded:!1,scriptUrl:"https://cdn.ckeditor.com/4.6.2/standard/ckeditor.js",activeClass:"",events:{}},c.propTypes={content:o.default.any,config:o.default.object,isScriptLoaded:o.default.bool,scriptUrl:o.default.string,activeClass:o.default.string,events:o.default.object},t.default=c},601:function(e,t){function a(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,r){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"===typeof t&&(r=t,t={}),t=t||{},r=r||function(){},i.type=t.type||"text/javascript",i.charset=t.charset||"utf8",i.async=!("async"in t)||!!t.async,i.src=e,t.attrs&&function(e,t){for(var a in t)e.setAttribute(a,t[a])}(i,t.attrs),t.text&&(i.text=""+t.text),("onload"in i?a:n)(i,r),i.onload||a(i,r),o.appendChild(i)}},602:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return function(t){return t&&t.length>e?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 ".concat(e):null}}},603:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return e&&e.replace(/[a-zA-Z\u0430-\u044f\u0410-\u042f0-9 -]/gi,"")?"\u0414\u043e\u043f\u0443\u0442\u0438\u043c\u044b \u0441\u0438\u043c\u0432\u043e\u043b\u044b: \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430, \u0446\u0438\u0444\u0440\u044b, \u0434\u0438\u0444\u0438\u0441.":null}},606:function(e,t,a){"use strict";a.d(t,"a",function(){return g});var n=a(185),r=a(186),o=a(188),i=a(187),s=a(192),u=a(189),c=a(0),l=a.n(c),d=a(641),p=a.n(d),f=(a(642),a(699)),h=a(700),m=a(658),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state=a.initialState,a.handleChange=a.handleChange.bind(Object(s.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){var t=this.props.input.onChange,a=this.returnUnique(e);t(a.join(", ")),this.setState({tags:a})}},{key:"returnUnique",value:function(e){for(var t={},a=0,n=e.length;a<n;a++)t[e[a]]="";return Object.keys(t)}},{key:"render",value:function(){var e=this.props,t=e.input.value,a=e.label,n=e.meta,r=n.touched,o=n.error;return l.a.createElement("div",{className:"controls"},l.a.createElement(f.a,null,l.a.createElement(h.a,null,a),l.a.createElement(p.a,{value:t?t.split(", "):[],onChange:this.handleChange})),r&&o&&l.a.createElement(m.a,{color:"danger"},o))}},{key:"initialState",get:function(){return{tags:[]}}}]),t}(c.Component)},640:function(e,t,a){"use strict";function n(e,t,a,n,r,o,i){try{var s=e[o](i),u=s.value}catch(c){return void a(c)}s.done?t(u):Promise.resolve(u).then(n,r)}function r(e){return function(){var t=this,a=arguments;return new Promise(function(r,o){var i=e.apply(t,a);function s(e){n(i,r,o,s,u,"next",e)}function u(e){n(i,r,o,s,u,"throw",e)}s(void 0)})}}a.d(t,"a",function(){return r})},641:function(e,t,a){var n,r,o;r=[e,t,a(0),a(24)],void 0===(o="function"===typeof(n=function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a);function o(e){return e&&e.__esModule?e:{default:e}}o(n);var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function u(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}var c={className:"react-tagsinput-input",placeholder:"Add a tag"},l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={tag:"",isFocused:!1},e.focus=e.focus.bind(e),e.blur=e.blur.bind(e),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_getTagDisplayValue",value:function(e){var t=this.props.tagDisplayProp;return t?e[t]:e}},{key:"_makeTag",value:function(e){var t,a,n,r=this.props.tagDisplayProp;return r?(n=e,(a=r)in(t={})?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t):e}},{key:"_removeTag",value:function(e){var t=this.props.value.concat([]);if(e>-1&&e<t.length){var a=t.splice(e,1);this.props.onChange(t,a,[e])}}},{key:"_clearInput",value:function(){this.hasControlledInput()?this.props.onChangeInput(""):this.setState({tag:""})}},{key:"_tag",value:function(){return this.hasControlledInput()?this.props.inputValue:this.state.tag}},{key:"_addTags",value:function(e){var t=this,a=this.props,n=a.validationRegex,r=a.onChange,o=a.onValidationReject,i=a.onlyUnique,s=a.maxTags,u=a.value;i&&(e=(e=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t}(e)).filter(function(e){return u.every(function(a){return t._getTagDisplayValue(a)!==t._getTagDisplayValue(e)})}));var c=e.filter(function(e){return!n.test(t._getTagDisplayValue(e))});if(e=(e=e.filter(function(e){return n.test(t._getTagDisplayValue(e))})).filter(function(e){var a=t._getTagDisplayValue(e);return"function"===typeof a.trim?a.trim().length>0:a}),s>=0){var l=Math.max(s-u.length,0);e=e.slice(0,l)}if(o&&c.length>0&&o(c),e.length>0){for(var d=u.concat(e),p=[],f=0;f<e.length;f++)p.push(u.length+f);return r(d,e,p),this._clearInput(),!0}return!(c.length>0)&&(this._clearInput(),!1)}},{key:"_shouldPreventDefaultEventOnAdd",value:function(e,t,a){return!!e||13===a&&(this.props.preventSubmit||!this.props.preventSubmit&&!t)}},{key:"focus",value:function(){this.input&&"function"===typeof this.input.focus&&this.input.focus(),this.handleOnFocus()}},{key:"blur",value:function(){this.input&&"function"===typeof this.input.blur&&this.input.blur(),this.handleOnBlur()}},{key:"accept",value:function(){var e=this._tag();return""!==e&&(e=this._makeTag(e),this._addTags([e]))}},{key:"addTag",value:function(e){return this._addTags([e])}},{key:"clearInput",value:function(){this._clearInput()}},{key:"handlePaste",value:function(e){var t=this,a=this.props,n=a.addOnPaste,r=a.pasteSplit;if(n){e.preventDefault();var o=function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e),i=r(o).map(function(e){return t._makeTag(e)});this._addTags(i)}}},{key:"handleKeyDown",value:function(e){if(!e.defaultPrevented){var t=this.props,a=t.value,n=t.removeKeys,r=t.addKeys,o=this._tag(),i=""===o,s=e.keyCode,u=e.key,c=-1!==r.indexOf(s)||-1!==r.indexOf(u),l=-1!==n.indexOf(s)||-1!==n.indexOf(u);if(c){var d=this.accept();this._shouldPreventDefaultEventOnAdd(d,i,s)&&e.preventDefault()}l&&a.length>0&&i&&(e.preventDefault(),this._removeTag(a.length-1))}}},{key:"handleClick",value:function(e){e.target===this.div&&this.focus()}},{key:"handleChange",value:function(e){var t=this.props.onChangeInput,a=this.props.inputProps.onChange,n=e.target.value;a&&a(e),this.hasControlledInput()?t(n):this.setState({tag:n})}},{key:"handleOnFocus",value:function(e){var t=this.props.inputProps.onFocus;t&&t(e),this.setState({isFocused:!0})}},{key:"handleOnBlur",value:function(e){var t=this.props.inputProps.onBlur;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){var a=this._makeTag(e.target.value);this._addTags([a])}}},{key:"handleRemove",value:function(e){this._removeTag(e)}},{key:"inputProps",value:function(){var e=this.props.inputProps,t=(e.onChange,e.onFocus,e.onBlur,u(e,["onChange","onFocus","onBlur"])),a=s({},c,t);return this.props.disabled&&(a.disabled=!0),a}},{key:"inputValue",value:function(e){return e.currentValue||e.inputValue||""}},{key:"hasControlledInput",value:function(){var e=this.props,t=e.inputValue,a=e.onChangeInput;return"function"===typeof a&&"string"===typeof t}},{key:"componentDidMount",value:function(){this.hasControlledInput()||this.setState({tag:this.inputValue(this.props)})}},{key:"componentWillReceiveProps",value:function(e){this.hasControlledInput()||this.inputValue(e)&&this.setState({tag:this.inputValue(e)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=(t.onChange,t.tagProps),o=t.renderLayout,i=t.renderTag,c=t.renderInput,l=(t.addKeys,t.removeKeys,t.className),d=t.focusedClassName,p=(t.addOnBlur,t.addOnPaste,t.inputProps,t.pasteSplit,t.onlyUnique,t.maxTags,t.validationRegex,t.disabled),f=(t.tagDisplayProp,t.inputValue,t.onChangeInput,u(t,["value","onChange","tagProps","renderLayout","renderTag","renderInput","addKeys","removeKeys","className","focusedClassName","addOnBlur","addOnPaste","inputProps","pasteSplit","onlyUnique","maxTags","validationRegex","disabled","tagDisplayProp","inputValue","onChangeInput"]),this.state.isFocused);f&&(l+=" "+d);var h=a.map(function(t,a){return i(s({key:a,tag:t,onRemove:e.handleRemove.bind(e),disabled:p,getTagDisplayValue:e._getTagDisplayValue.bind(e)},n))}),m=c(s({ref:function(t){e.input=t},value:this._tag(),onPaste:this.handlePaste.bind(this),onKeyDown:this.handleKeyDown.bind(this),onChange:this.handleChange.bind(this),onFocus:this.handleOnFocus.bind(this),onBlur:this.handleOnBlur.bind(this),addTag:this.addTag.bind(this)},this.inputProps()));return r.default.createElement("div",{ref:function(t){e.div=t},onClick:this.handleClick.bind(this),className:l},o(h,m))}}]),t}(r.default.Component);l.defaultProps={className:"react-tagsinput",focusedClassName:"react-tagsinput--focused",addKeys:[9,13],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[8],renderInput:function(e){e.addTag;var t=u(e,["addTag"]),a=t.onChange,n=t.value,o=u(t,["onChange","value"]);return r.default.createElement("input",s({type:"text",onChange:a,value:n},o))},renderTag:function(e){var t=e.tag,a=e.key,n=e.disabled,o=e.onRemove,i=e.classNameRemove,c=e.getTagDisplayValue,l=u(e,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return r.default.createElement("span",s({key:a},l),c(t),!n&&r.default.createElement("a",{className:i,onClick:function(e){return o(a)}}))},renderLayout:function(e,t){return r.default.createElement("span",null,e,t)},pasteSplit:function(e){return e.split(" ").map(function(e){return e.trim()})},tagProps:{className:"react-tagsinput-tag",classNameRemove:"react-tagsinput-remove"},onlyUnique:!1,maxTags:-1,validationRegex:/.*/,disabled:!1,tagDisplayProp:null,preventSubmit:!0},t.default=l,e.exports=t.default})?n.apply(t,r):n)||(e.exports=o)},642:function(e,t,a){},643:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(185),r=a(186),o=a(188),i=a(187),s=a(189),u=a(0),c=a.n(u),l=a(644),d=a.n(l),p=a(561),f=a(105),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).clearString=function(e){try{return e&&e.replace(/[^a-zA-Z\u0430-\u044f\u0410-\u042f0-9 ]/gi,"").replace(/\s\s+/g," ")}catch(t){return console.log(t),e}},a.transformString=function(e){return d()().transform(a.clearString(e),"-")},a.state=a.initialValues,a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.input,o=n.meta,i=e.input;o.visited&&o.active&&r.value!==i.value&&this.setState({autoGen:!1})}},{key:"shouldComponentUpdate",value:function(e,t){var a=e.input,n=e.formValues,r=e.subscribeField;if(this.state.autoGen){if(this.props.formValues&&e.formValues&&this.props.formValues[r]!==n[r]){var o=this.transformString(n[r]);return a.onChange(o),!0}if(e.formValues&&(n[r]||!n[r])){var i=this.transformString(n[r]);return a.onChange(i),!0}}return!Object(f.c)(e,this.props)}},{key:"render",value:function(){return c.a.createElement(p.a,this.props)}},{key:"initialValues",get:function(){return{prevValue:null,autoGen:this.props.isAutoGenTransliteration}}}]),t}(u.Component);h.defaultProps={isAutoGenTransliteration:!0}},644:function(e,t,a){"use strict";e.exports=function(e){var t=e?e.preset:"ru",a={"\u0430":"a","\u0431":"b","\u0432":"v","\u0491":"g","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"e","\u0454":"ye","\u0436":"zh","\u0437":"z","\u0438":"i","\u0456":"i","\u0457":"yi","\u0439":"i","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh'","\u044a":"","\u044b":"i","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya"};"uk"===t&&Object.assign(a,{"\u0433":"h","\u0438":"y","\u0439":"y","\u0445":"kh","\u0446":"ts","\u0449":"shch","'":"","\u2019":"","\u02bc":""});var n=Object.assign({},a);return"uk"===t&&Object.assign(n,{"\u0454":"ie","\u0457":"i","\u0439":"i","\u044e":"iu","\u044f":"ia"}),{transform:function(e,r){if(!e)return"";for(var o=e.normalize(),i="",s=0;s<o.length;s++){var u=o[s]===o[s].toUpperCase(),c=o[s].toLowerCase();if(" "===c&&r)i+=r;else{var l="uk"===t&&"\u0433"===c&&s>0&&"\u0437"===o[s-1].toLowerCase()?"gh":(0===s?a:n)[c];i+="undefined"===typeof l?u?c.toUpperCase():c:u?l.toUpperCase():l}}return i}}}},654:function(e,t,a){"use strict";var n=a(185),r=a(186),o=a(188),i=a(187),s=a(192),u=a(189),c=a(0),l=a.n(c),d=a(699),p=a(700),f=a(172),h=(a(674),a(836)),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(s.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){var t;return(0,this.props.input.onChange)((t=e,Object(h.a)(t,"yyyy-MM-d h:mm:ss")))}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.input.value;return l.a.createElement("div",{className:"controls"},l.a.createElement(d.a,null,l.a.createElement(p.a,null,t),l.a.createElement(f.a,{locale:"ru",minDate:new Date,selected:new Date(a||new Date),onChange:this.handleChange,className:"form-control full-width"})))}}]),t}(c.Component);t.a=m},690:function(e,t,a){"use strict";var n=function(e){var t=e.getIn;return function(e,a){return function(n){var r=a||function(e){return t(e,"form")};return t(r(n),e+".values")}}},r=a(36);t.a=n(r.a)},846:function(e,t,a){"use strict";a.r(t);var n=a(185),r=a(186),o=a(188),i=a(187),s=a(189),u=a(0),c=a.n(u),l=a(17),d=a.n(l),p=a(640),f=a(552),h=a(553),m=a(658),g=a(699),v=a(565),b=a(788),y=a(839),O=a(690),E=a(837),j=a(579),P=a(654),k=a(598),C=a(606),w=a(561),T=a(190),R=a(585),_=a(66),x=a(570),S=a(572),A=a(602),U=Object(A.a)(255),D=function(){return c.a.createElement(u.Fragment,null,c.a.createElement(h.a,{xs:"12"},c.a.createElement("h4",null,"META \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")),c.a.createElement(h.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(y.a,{name:"meta_description",component:w.a,label:"meta_description",type:"text",validate:[U]})),c.a.createElement(h.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(y.a,{name:"meta_keywords",component:C.a,label:"meta_keywords",type:"text",validate:[U]})))},N=Object(A.a)(255),q=function(){return c.a.createElement(u.Fragment,null,c.a.createElement(h.a,{xs:"12"},c.a.createElement("h4",null,"OG META (Open Graph)")),c.a.createElement(h.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(y.a,{name:"og_url",component:w.a,label:"og_url",type:"text",validate:[N]})),c.a.createElement(h.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(y.a,{name:"og_image",component:w.a,label:"og_image",type:"text",validate:[N]})),c.a.createElement(h.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(y.a,{name:"og_type",component:w.a,label:"og_type",type:"text",validate:[N]})),c.a.createElement(h.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(y.a,{name:"og_title",component:w.a,label:"og_title",type:"text",validate:[N]})))},I=a(643),V=a(105),G=a(603),L=a(586),z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).createPost=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.CreatePostAction,e.next=3,n({body:t});case 3:if(!(r=e.sent)||!r.errors){e.next=6;break}throw new b.a(Object(x.a)(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updatePost=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.UpdatePostAction,e.next=3,n({body:t,urlParams:{id:t.id}});case 3:if(!(r=e.sent)||!r.errors){e.next=6;break}throw new b.a(Object(x.a)(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){var e=Object(p.a)(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("values: ",t),n=a.props.history,!t.hasOwnProperty("id")){e.next=7;break}return e.next=5,a.updatePost(t);case 5:e.next=9;break;case 7:return e.next=9,a.createPost(t);case 9:n.push("/posts");case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state=a.initialState,a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.handleSubmit,n=e.categories,r=e.values;return console.log(this.props),c.a.createElement("form",{onSubmit:a(this.onSubmit)},c.a.createElement(f.a,null,c.a.createElement(h.a,{xs:"12"},c.a.createElement(y.a,{name:"title",component:w.a,label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",validate:[S.a],type:"text"})),c.a.createElement(h.a,{xs:"12"},c.a.createElement(y.a,{name:"excerpt",component:w.a,label:"\u0412\u0432\u043e\u0434\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438",type:"textarea"})),c.a.createElement(h.a,{xs:"12"},c.a.createElement(y.a,{isAutoGenTransliteration:!(r&&r.id),name:"alias_url",component:I.a,label:"URL \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c \u0441\u0442\u0430\u0442\u044c\u0438",type:"text",subscribeField:"title",formValues:r,validate:[G.a]})),c.a.createElement(h.a,{xs:"12",md:"6"},c.a.createElement(y.a,{name:"category_id",component:j.a,label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",validate:[S.a],type:"select",defaultValue:"",data:n})),c.a.createElement(h.a,{xs:"12",md:"6"},c.a.createElement(y.a,{name:"status",component:j.a,label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",type:"select",defaultValue:"DRAFT",validate:[S.a],data:[{id:"PUBLISHED",name:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d"},{id:"DRAFT",name:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"},{id:"PENDING",name:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"}]})),c.a.createElement(h.a,{xs:"12",md:"6"},c.a.createElement(y.a,{name:"public_at",component:P.a,label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"})),c.a.createElement(h.a,{xs:"12"},c.a.createElement(y.a,{name:"body",component:k.a,label:"\u041a\u043e\u043d\u0442\u0435\u043d\u0442",validate:[S.a],type:"text",ref:"CKEDITOR"})),c.a.createElement(h.a,{xs:"12"},c.a.createElement(y.a,{name:"tags",component:C.a,label:"\u0422\u044d\u0433\u0438"})),c.a.createElement(D,null),c.a.createElement(q,null)),t&&c.a.createElement(f.a,null,c.a.createElement(h.a,{xs:"12"},c.a.createElement(m.a,{color:"danger"},t))),c.a.createElement(f.a,null,c.a.createElement(h.a,{xs:"6"},c.a.createElement("div",{className:"controls"},c.a.createElement(g.a,null,c.a.createElement(v.a,{color:"primary",type:"submit",className:"px-4"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))))}},{key:"initialState",get:function(){return{}}}]),t}(u.Component);z=Object(V.b)(function(e){return{values:Object(O.a)("PostEditForm")(e)}})(z),z=Object(E.a)({form:"PostEditForm"})(z),z=Object(T.a)(function(e,t){return{isRetrievingCreatePost:Object(R.h)(e,t)}},function(e){return{CreatePostAction:function(t){return e(Object(R.a)(t))},UpdatePostAction:function(t){return e(Object(R.g)(t))},CreateUrlAliasAction:function(t){return e(Object(L.a)(t))},UpdateUrlAliasAction:function(t){return e(Object(L.h)(t))}}})(z);var F=z=Object(_.k)(z),H=a(587);a.d(t,"PostEditor",function(){return K});var K=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state=a.initialState,a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params;e&&e.id&&this.props.GetPostAction(e.id),this.props.GetCategoriesAction({query:{without_pagination:1}})}},{key:"render",value:function(){var e=this.props,t=e.categories,a=e.post,n=e.match.params,r=e.isRetrievingGetPost,o=e.isRetrievingCategories;if((r||o)&&!t)return c.a.createElement("div",null,"Loading...");if(!t.length)return null;var i={initialValues:a(n&&n.id)};return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(F,Object.assign({categories:Object.values(t[0])},i)))}},{key:"initialState",get:function(){return{}}}]),t}(u.Component);K=Object(T.a)(function(e,t){return{post:function(a){if(a){var n=Object(R.d)(e,"posts",a,t);if(n)return n[a]}return null},categories:Object(H.c)(e,t),isRetrievingGetPost:Object(R.i)(e,t),isRetrievingCategories:Object(H.h)(e,t)}},function(e){return{GetPostAction:function(t){return e(Object(R.c)({urlParams:{id:t}}))},GetCategoriesAction:function(t){return e(Object(H.d)(t))}}})(K);t.default=K}}]);
//# sourceMappingURL=15.ca301f7d.chunk.js.map