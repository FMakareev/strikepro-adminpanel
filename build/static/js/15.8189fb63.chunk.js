(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{553:function(e,t,a){"use strict";var n="";switch(window.location.hostname){case"localhost":case"admin.strikepro.ru":n="https://dev.strikepro.ru";break;case"strike.localhost":n="http://strike.localhost"}t.a={base:n,api:{login:"/dashboard/auth/login",logout:"/dashboard/auth/logout",posts:"/dashboard/blog/posts",post:"/dashboard/blog/post",categories:"/dashboard/blog/categories",category:"/dashboard/blog/category",slides:"/dashboard/slides",tiles:"/dashboard/mainfeeds",tile_types:"/dashboard/mainfeed/types",tile:"/dashboard/mainfeed",nomenclature:"/dashboard/nomenclature",nomenclatures:"/dashboard/nomenclatures",nomenclatureCharacteristic:"/dashboard/nomenclature/characteristic",typesOfNomenclature:"/dashboard/nomenclature/characteristic",fileupload:"/dashboard/fileupload",static_pages:"/dashboard/pages"}}},554:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"d",function(){return s});var n=a(547),r=function(e){return Object(n.a)({method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}},e?{body:JSON.stringify(e)}:{})},o=function(){return{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}},i=function(){return{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}},s=function(e){return{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}}},556:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(288),r=function(e){var t=e.status;return 401===t?(n.a.push("#/login"),window.location.reload(),e):404===t?(n.a.push("#/404"),window.location.reload(),e):e}},557:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(547),r=a(555),o=a(20),i=a(185),s=function e(t){var a=this;Object(i.a)(this,e),this.resourceName=null,this.mergeResourceAndPayload=function(e,t){return t.forEach(function(t){e[a.resourceName][a.resourceName][t.id]=t,e[a.resourceName].metadata={data:[].concat(Object(o.a)(e[a.resourceName].metadata.data),[t.id])}}),e},this.removePayloadFromResources=function(e,t){return t?(console.log("removePayloadFromResources: ",a,e,t),delete e[a.resourceName][a.resourceName][t],e[a.resourceName].metadata.data=e[a.resourceName].metadata.data.filter(function(e){return e!==t}),e):(console.warn("payloadID undefined"),e)},this.payloadToResource=function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={entities:Object(r.a)({},a.resourceName,(t={},Object(r.a)(t,a.resourceName,{}),Object(r.a)(t,"metadata",{}),t)),result:[]};return e&&e.forEach(function(e){i.result.push(e.id),i.entities[a.resourceName][a.resourceName][e.id]=e}),i.entities[a.resourceName].metadata=Object(n.a)({},o,{data:i.result}),i},this.updateResource=function(e,t){return e[a.resourceName][a.resourceName][t.id]=t,e},this.normalizeError=function(e){return e.errors||(e.errors={}),{entities:Object(n.a)({},e,{message:[e.message]}),result:{errors:e}}},this.resourceName=t}},558:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return function(t,a,n){return t.errors?e.normalizeError(t):t?e.removePayloadFromResources(a,n.id):a}}},561:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(0),r=a.n(n),o=a(692),i=a(693),s=a(573),u=a(574),c=a(562),l=a(613),d=a(587),p=function(e){var t=e.input,a=e.label,n=e.type,p=e.placeholder,f=e.required,h=e.icon,m=e.meta,g=m.touched,v=m.error;return r.a.createElement(o.a,{className:g?v?"":"was-validated":""},a&&r.a.createElement(i.a,null,a),r.a.createElement(s.a,{className:"mb-3"},h&&r.a.createElement(u.a,{addonType:"prepend"},r.a.createElement(c.a,null,r.a.createElement("i",{className:h}))),r.a.createElement(l.a,Object.assign({},t,{type:n,valid:!!g&&!v,className:g&&v?"form-control-warning is-invalid":"",placeholder:p||a,required:f})),r.a.createElement(d.a,{valid:!!g&&!v,className:"help-block"},v)))}},570:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){var t={_error:e.message?e.message[0]:null};for(var a in e.errors)Array.isArray(e.errors[a])&&(t[a]=e.errors[a][0]);return t}},575:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return e?void 0:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},577:function(e,t,a){"use strict";var n=a(185),r=a(186),o=a(188),i=a(187),s=a(189),u=a(0),c=a.n(u),l=a(692),d=a(693),p=a(613),f=a(651),h=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,a=e.label,n=e.type,r=e.data,o=e.meta,i=o.touched,s=o.error,u=e.valueKey,h=e.labelKey;return c.a.createElement(l.a,null,c.a.createElement(d.a,null,a),c.a.createElement(p.a,Object.assign({type:n},t),c.a.createElement("option",null,"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e..."),Array.isArray(r)&&r.map(function(e,a){return c.a.createElement("option",{key:a,selected:e[u]===t.value,value:e[u]},e[h])})),i&&s&&c.a.createElement(f.a,{color:"danger"},s))}}]),t}(u.Component);h.defaultProps={valueKey:"id",labelKey:"name"},t.a=h},582:function(e,t,a){"use strict";a.d(t,"a",function(){return p}),a.d(t,"b",function(){return f}),a.d(t,"c",function(){return h}),a.d(t,"f",function(){return m}),a.d(t,"g",function(){return g}),a.d(t,"i",function(){return C}),a.d(t,"j",function(){return w}),a.d(t,"e",function(){return b}),a.d(t,"d",function(){return E}),a.d(t,"h",function(){return P});var n=a(190),r=a(553),o=a(556),i=a(554),s=a(557),u=a(558),c=new s.a("posts"),l=Object(n.b)("posts")({createPost:{method:"POST",url:"".concat(r.a.base).concat(r.a.api.post),normalizer:function(e,t,a){return console.log("createPost: ",e,t,a),e?e.errors||e.message?c.normalizeError(e):t.hasOwnProperty("posts")?c.mergeResourceAndPayload(t,[e]):c.payloadToResource([e]):null},networkHelpers:{handleStatusCode:o.a,requestPOST:i.c}},deletePost:{method:"DELETE",url:"".concat(r.a.base).concat(r.a.api.post,"/::id"),normalizer:Object(u.a)(c),networkHelpers:{handleStatusCode:o.a,requestDELETE:i.a}},getPost:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.post,"/::id"),normalizer:function(e){return c.payloadToResource([e])},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},getPosts:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.posts),normalizer:function(e){return!e&&e.error?null:Array.isArray(e)?c.payloadToResource(e):c.payloadToResource(e.data,e)},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},updatePost:{method:"PUT",url:"".concat(r.a.base).concat(r.a.api.post,"/::id"),normalizer:function(e,t){return e.errors?c.normalizeError(e):e?c.updateResource(t,e):t},networkHelpers:{handleStatusCode:o.a,requestPUT:i.d}}}),d=l.actions,p=d.createPost.perform,f=d.deletePost.perform,h=d.getPost.perform,m=d.getPosts.perform,g=d.updatePost.perform,v=l.selectors,y=v.resource,b=y.getResource,E=y.getResourceById,O=v.createPost.request,P=(O.getResource,O.isPerforming),j=(v.deletePost.request.getResource,v.getPost.request),C=(j.getResource,j.isPerforming),k=v.getPosts.request,w=(k.getResource,k.isPerforming),T=v.updatePost.request;T.getResource,T.isPerforming},583:function(e,t,a){"use strict";a.d(t,"a",function(){return p}),a.d(t,"b",function(){return f}),a.d(t,"e",function(){return h}),a.d(t,"d",function(){return m}),a.d(t,"g",function(){return g}),a.d(t,"c",function(){return b}),a.d(t,"f",function(){return E}),a.d(t,"h",function(){return w}),a.d(t,"j",function(){return C}),a.d(t,"i",function(){return P}),a.d(t,"k",function(){return _});var n=a(190),r=a(553),o=a(556),i=a(554),s=a(557),u=a(558),c=new s.a("categories"),l=Object(n.b)("categories")({createCategory:{method:"POST",url:"".concat(r.a.base).concat(r.a.api.category),normalizer:function(e,t){return!e&&e.error?null:t.hasOwnProperty("categories")?c.mergeResourceAndPayload(t,[e]):c.payloadToResource([e])},networkHelpers:{handleStatusCode:o.a,requestPOST:i.c}},deleteCategory:{method:"DELETE",url:"".concat(r.a.base).concat(r.a.api.category,"/::id"),normalizer:Object(u.a)(c),networkHelpers:{handleStatusCode:o.a,requestDELETE:i.a}},getCategory:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.category,"/::id"),normalizer:function(e){return c.payloadToResource([e])},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},getCategories:{method:"GET",url:"".concat(r.a.base).concat(r.a.api.categories),normalizer:function(e){return!e&&e.error?null:Array.isArray(e)?c.payloadToResource(e):c.payloadToResource(e.data,e)},networkHelpers:{handleStatusCode:o.a,requestGET:i.b}},updateCategory:{method:"PUT",url:"".concat(r.a.base).concat(r.a.api.category,"/::id"),normalizer:function(e,t){return e?c.updateResource(t,e):t},networkHelpers:{handleStatusCode:o.a,requestPUT:i.d}}}),d=l.actions,p=d.createCategory.perform,f=d.deleteCategory.perform,h=d.getCategory.perform,m=d.getCategories.perform,g=d.updateCategory.perform,v=l.selectors,y=v.resource,b=y.getResource,E=y.getResourceById,O=v.createCategory.request,P=(O.getResource,O.isPerforming),j=(v.deleteCategory.request.getResource,v.getCategory.request),C=(j.getResource,j.isPerforming),k=v.getCategories.request,w=(k.getResource,k.isPerforming),T=v.updateCategory.request,_=(T.getResource,T.isPerforming)},596:function(e,t,a){"use strict";var n=a(547),r=a(185),o=a(186),i=a(188),s=a(187),u=a(189),c=a(0),l=a.n(c),d=a(597),p=a.n(d),f=a(692),h=a(693),m=a(651),g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state=a.initialState,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.input,a=e.label,r=e.meta,o=r.touched,i=r.error,s=e.config;return l.a.createElement(f.a,null,l.a.createElement(h.a,null,a),l.a.createElement(p.a,{activeClass:"p10",config:Object(n.a)({language:"ru",filebrowserBrowseUrl:"http://new.strikepro.ru/ckfinder/browser",filebrowserImageBrowseUrl:"http://new.strikepro.ru/ckfinder/browser",filebrowserUploadUrl:"http://new.strikepro.ru/ckfinder/connector",filebrowserImageUploadUrl:"http://new.strikepro.ru/ckfinder/connector",imageUploadUrl:""},s),scriptUrl:"//cdn.ckeditor.com/4.7.3/full/ckeditor.js",content:t.value,events:{change:function(e){return t.onChange(e.editor.getData())},onSelect:function(e){console.log("onSelect:",e),e.cancel()},paste:function(e){console.log("paste:",e)},afterPaste:function(e){console.log("afterPaste:",e)},fileUploadRequest:function(e){console.log("fileUploadRequest:",e);var t=e.data.fileLoader.xhr;t.setRequestHeader("Access-Control-Allow-Origin","http://localhost:8080"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Accept","application/json"),t.withCredentials=!0},fileUploadResponse:function(e){console.log("fileUploadResponse:",e)}}}),o&&i&&l.a.createElement(m.a,{color:"danger"},i))}},{key:"initialState",get:function(){return{isInit:!1,editor:null}}}]),t}(c.Component);t.a=g},597:function(e,t,a){"use strict";e.exports=a(598)},598:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(0)),o=s(a(24)),i=s(a(62));function s(e){return e&&e.__esModule?e:{default:e}}var u=a(599),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onLoad=a.onLoad.bind(a),a.state={isScriptLoaded:e.isScriptLoaded},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"componentDidMount",value:function(){this.state.isScriptLoaded?this.onLoad():u(this.props.scriptUrl,this.onLoad)}},{key:"componentWillReceiveProps",value:function(e){var t=this.editorInstance;t&&t.getData()!==e.content&&t.setData(e.content)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"onLoad",value:function(){if(!this.unmounting)if(this.setState({isScriptLoaded:!0}),window.CKEDITOR)for(var e in this.editorInstance=window.CKEDITOR.appendTo(i.default.findDOMNode(this),this.props.config,this.props.content),this.props.events){var t=this.props.events[e];this.editorInstance.on(e,t)}else console.error("CKEditor not found")}},{key:"render",value:function(){return r.default.createElement("div",{className:this.props.activeClass})}}]),t}();c.defaultProps={content:"",config:{},isScriptLoaded:!1,scriptUrl:"https://cdn.ckeditor.com/4.6.2/standard/ckeditor.js",activeClass:"",events:{}},c.propTypes={content:o.default.any,config:o.default.object,isScriptLoaded:o.default.bool,scriptUrl:o.default.string,activeClass:o.default.string,events:o.default.object},t.default=c},599:function(e,t){function a(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,r){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"===typeof t&&(r=t,t={}),t=t||{},r=r||function(){},i.type=t.type||"text/javascript",i.charset=t.charset||"utf8",i.async=!("async"in t)||!!t.async,i.src=e,t.attrs&&function(e,t){for(var a in t)e.setAttribute(a,t[a])}(i,t.attrs),t.text&&(i.text=""+t.text),("onload"in i?a:n)(i,r),i.onload||a(i,r),o.appendChild(i)}},600:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){return function(t){return t&&t.length>e?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 ".concat(e):null}}},603:function(e,t,a){"use strict";a.d(t,"a",function(){return g});var n=a(185),r=a(186),o=a(188),i=a(187),s=a(192),u=a(189),c=a(0),l=a.n(c),d=a(637),p=a.n(d),f=(a(638),a(692)),h=a(693),m=a(651),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state=a.initialState,a.handleChange=a.handleChange.bind(Object(s.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){var t=this.props.input.onChange,a=this.returnUnique(e);t(a.join(", ")),this.setState({tags:a})}},{key:"returnUnique",value:function(e){for(var t={},a=0,n=e.length;a<n;a++)t[e[a]]="";return Object.keys(t)}},{key:"render",value:function(){var e=this.props,t=e.input.value,a=e.label,n=e.meta,r=n.touched,o=n.error;return l.a.createElement("div",{className:"controls"},l.a.createElement(f.a,null,l.a.createElement(h.a,null,a),l.a.createElement(p.a,{value:t?t.split(", "):[],onChange:this.handleChange})),r&&o&&l.a.createElement(m.a,{color:"danger"},o))}},{key:"initialState",get:function(){return{tags:[]}}}]),t}(c.Component)},637:function(e,t,a){var n,r,o;r=[e,t,a(0),a(24)],void 0===(o="function"===typeof(n=function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a);function o(e){return e&&e.__esModule?e:{default:e}}o(n);var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function u(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}var c={className:"react-tagsinput-input",placeholder:"Add a tag"},l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={tag:"",isFocused:!1},e.focus=e.focus.bind(e),e.blur=e.blur.bind(e),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_getTagDisplayValue",value:function(e){var t=this.props.tagDisplayProp;return t?e[t]:e}},{key:"_makeTag",value:function(e){var t,a,n,r=this.props.tagDisplayProp;return r?(n=e,(a=r)in(t={})?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t):e}},{key:"_removeTag",value:function(e){var t=this.props.value.concat([]);if(e>-1&&e<t.length){var a=t.splice(e,1);this.props.onChange(t,a,[e])}}},{key:"_clearInput",value:function(){this.hasControlledInput()?this.props.onChangeInput(""):this.setState({tag:""})}},{key:"_tag",value:function(){return this.hasControlledInput()?this.props.inputValue:this.state.tag}},{key:"_addTags",value:function(e){var t=this,a=this.props,n=a.validationRegex,r=a.onChange,o=a.onValidationReject,i=a.onlyUnique,s=a.maxTags,u=a.value;i&&(e=(e=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t}(e)).filter(function(e){return u.every(function(a){return t._getTagDisplayValue(a)!==t._getTagDisplayValue(e)})}));var c=e.filter(function(e){return!n.test(t._getTagDisplayValue(e))});if(e=(e=e.filter(function(e){return n.test(t._getTagDisplayValue(e))})).filter(function(e){var a=t._getTagDisplayValue(e);return"function"===typeof a.trim?a.trim().length>0:a}),s>=0){var l=Math.max(s-u.length,0);e=e.slice(0,l)}if(o&&c.length>0&&o(c),e.length>0){for(var d=u.concat(e),p=[],f=0;f<e.length;f++)p.push(u.length+f);return r(d,e,p),this._clearInput(),!0}return!(c.length>0)&&(this._clearInput(),!1)}},{key:"_shouldPreventDefaultEventOnAdd",value:function(e,t,a){return!!e||13===a&&(this.props.preventSubmit||!this.props.preventSubmit&&!t)}},{key:"focus",value:function(){this.input&&"function"===typeof this.input.focus&&this.input.focus(),this.handleOnFocus()}},{key:"blur",value:function(){this.input&&"function"===typeof this.input.blur&&this.input.blur(),this.handleOnBlur()}},{key:"accept",value:function(){var e=this._tag();return""!==e&&(e=this._makeTag(e),this._addTags([e]))}},{key:"addTag",value:function(e){return this._addTags([e])}},{key:"clearInput",value:function(){this._clearInput()}},{key:"handlePaste",value:function(e){var t=this,a=this.props,n=a.addOnPaste,r=a.pasteSplit;if(n){e.preventDefault();var o=function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e),i=r(o).map(function(e){return t._makeTag(e)});this._addTags(i)}}},{key:"handleKeyDown",value:function(e){if(!e.defaultPrevented){var t=this.props,a=t.value,n=t.removeKeys,r=t.addKeys,o=this._tag(),i=""===o,s=e.keyCode,u=e.key,c=-1!==r.indexOf(s)||-1!==r.indexOf(u),l=-1!==n.indexOf(s)||-1!==n.indexOf(u);if(c){var d=this.accept();this._shouldPreventDefaultEventOnAdd(d,i,s)&&e.preventDefault()}l&&a.length>0&&i&&(e.preventDefault(),this._removeTag(a.length-1))}}},{key:"handleClick",value:function(e){e.target===this.div&&this.focus()}},{key:"handleChange",value:function(e){var t=this.props.onChangeInput,a=this.props.inputProps.onChange,n=e.target.value;a&&a(e),this.hasControlledInput()?t(n):this.setState({tag:n})}},{key:"handleOnFocus",value:function(e){var t=this.props.inputProps.onFocus;t&&t(e),this.setState({isFocused:!0})}},{key:"handleOnBlur",value:function(e){var t=this.props.inputProps.onBlur;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){var a=this._makeTag(e.target.value);this._addTags([a])}}},{key:"handleRemove",value:function(e){this._removeTag(e)}},{key:"inputProps",value:function(){var e=this.props.inputProps,t=(e.onChange,e.onFocus,e.onBlur,u(e,["onChange","onFocus","onBlur"])),a=s({},c,t);return this.props.disabled&&(a.disabled=!0),a}},{key:"inputValue",value:function(e){return e.currentValue||e.inputValue||""}},{key:"hasControlledInput",value:function(){var e=this.props,t=e.inputValue,a=e.onChangeInput;return"function"===typeof a&&"string"===typeof t}},{key:"componentDidMount",value:function(){this.hasControlledInput()||this.setState({tag:this.inputValue(this.props)})}},{key:"componentWillReceiveProps",value:function(e){this.hasControlledInput()||this.inputValue(e)&&this.setState({tag:this.inputValue(e)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=(t.onChange,t.tagProps),o=t.renderLayout,i=t.renderTag,c=t.renderInput,l=(t.addKeys,t.removeKeys,t.className),d=t.focusedClassName,p=(t.addOnBlur,t.addOnPaste,t.inputProps,t.pasteSplit,t.onlyUnique,t.maxTags,t.validationRegex,t.disabled),f=(t.tagDisplayProp,t.inputValue,t.onChangeInput,u(t,["value","onChange","tagProps","renderLayout","renderTag","renderInput","addKeys","removeKeys","className","focusedClassName","addOnBlur","addOnPaste","inputProps","pasteSplit","onlyUnique","maxTags","validationRegex","disabled","tagDisplayProp","inputValue","onChangeInput"]),this.state.isFocused);f&&(l+=" "+d);var h=a.map(function(t,a){return i(s({key:a,tag:t,onRemove:e.handleRemove.bind(e),disabled:p,getTagDisplayValue:e._getTagDisplayValue.bind(e)},n))}),m=c(s({ref:function(t){e.input=t},value:this._tag(),onPaste:this.handlePaste.bind(this),onKeyDown:this.handleKeyDown.bind(this),onChange:this.handleChange.bind(this),onFocus:this.handleOnFocus.bind(this),onBlur:this.handleOnBlur.bind(this),addTag:this.addTag.bind(this)},this.inputProps()));return r.default.createElement("div",{ref:function(t){e.div=t},onClick:this.handleClick.bind(this),className:l},o(h,m))}}]),t}(r.default.Component);l.defaultProps={className:"react-tagsinput",focusedClassName:"react-tagsinput--focused",addKeys:[9,13],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[8],renderInput:function(e){e.addTag;var t=u(e,["addTag"]),a=t.onChange,n=t.value,o=u(t,["onChange","value"]);return r.default.createElement("input",s({type:"text",onChange:a,value:n},o))},renderTag:function(e){var t=e.tag,a=e.key,n=e.disabled,o=e.onRemove,i=e.classNameRemove,c=e.getTagDisplayValue,l=u(e,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return r.default.createElement("span",s({key:a},l),c(t),!n&&r.default.createElement("a",{className:i,onClick:function(e){return o(a)}}))},renderLayout:function(e,t){return r.default.createElement("span",null,e,t)},pasteSplit:function(e){return e.split(" ").map(function(e){return e.trim()})},tagProps:{className:"react-tagsinput-tag",classNameRemove:"react-tagsinput-remove"},onlyUnique:!1,maxTags:-1,validationRegex:/.*/,disabled:!1,tagDisplayProp:null,preventSubmit:!0},t.default=l,e.exports=t.default})?n.apply(t,r):n)||(e.exports=o)},638:function(e,t,a){},647:function(e,t,a){"use strict";var n=a(185),r=a(186),o=a(188),i=a(187),s=a(192),u=a(189),c=a(0),l=a.n(c),d=a(692),p=a(693),f=a(172),h=(a(667),a(828)),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(s.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){var t;return(0,this.props.input.onChange)((t=e,Object(h.a)(t,"yyyy-MM-d h:mm:ss")))}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.input.value;return l.a.createElement("div",{className:"controls"},l.a.createElement(d.a,null,l.a.createElement(p.a,null,t),l.a.createElement(f.a,{locale:"ru",minDate:new Date,selected:new Date(a||new Date),onChange:this.handleChange,className:"form-control full-width"})))}}]),t}(c.Component);t.a=m},838:function(e,t,a){"use strict";a.r(t);var n=a(185),r=a(186),o=a(188),i=a(187),s=a(189),u=a(0),c=a.n(u),l=a(550),d=a(551),p=a(651),f=a(692),h=a(565),m=a(781),g=a(831),v=a(829),y=a(577),b=a(647),E=a(596),O=a(603),P=a(561),j=a(190),C=a(582),k=a(66),w=a(570),T=a(575),_=a(600),R=Object(_.a)(255),x=function(){return c.a.createElement(u.Fragment,null,c.a.createElement(d.a,{xs:"12"},c.a.createElement("h4",null,"META \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")),c.a.createElement(d.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(g.a,{name:"meta_description",component:P.a,label:"meta_description",type:"text",validate:[R]})),c.a.createElement(d.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(g.a,{name:"meta_keywords",component:O.a,label:"meta_keywords",type:"text",validate:[R]})))},S=Object(_.a)(255),D=function(){return c.a.createElement(u.Fragment,null,c.a.createElement(d.a,{xs:"12"},c.a.createElement("h4",null,"OG META (Open Graph)")),c.a.createElement(d.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(g.a,{name:"og_url",component:P.a,label:"og_url",type:"text",validate:[S]})),c.a.createElement(d.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(g.a,{name:"og_image",component:P.a,label:"og_image",type:"text",validate:[S]})),c.a.createElement(d.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(g.a,{name:"og_type",component:P.a,label:"og_type",type:"text",validate:[S]})),c.a.createElement(d.a,{xs:"12",md:"6",lg:"4"},c.a.createElement(g.a,{name:"og_title",component:P.a,label:"og_title",type:"text",validate:[S]})))},N=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onSubmit=function(e){console.log("values: ",e);var t=a.props.history;return e.hasOwnProperty("id")?a.props.UpdatePostAction({body:e,urlParams:{id:e.id}}).then(function(e){var a=e.normalizedPayload;if(a&&a.errors)throw a;t.push("/posts")}).catch(function(e){throw new m.a(Object(w.a)(e))}):a.props.CreatePostAction({body:e}).then(function(e){var a=e.normalizedPayload;if(a&&a.errors)throw a;t.push("/posts")}).catch(function(e){throw new m.a(Object(w.a)(e))})},a.state=a.initialState,a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.handleSubmit,n=e.categories;return c.a.createElement("form",{onSubmit:a(this.onSubmit)},c.a.createElement(l.a,null,c.a.createElement(d.a,{xs:"12"},c.a.createElement(g.a,{name:"title",component:P.a,label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",validate:[T.a],type:"text"})),c.a.createElement(d.a,{xs:"12",md:"12",lg:"12"},c.a.createElement(g.a,{name:"excerpt",component:P.a,label:"\u0412\u0432\u043e\u0434\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438",validate:[T.a],type:"textarea"})),c.a.createElement(d.a,{xs:"12",md:"6"},c.a.createElement(g.a,{name:"alias_url",component:P.a,label:"URL \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c \u0441\u0442\u0430\u0442\u044c\u0438",type:"text",validate:[T.a]})),c.a.createElement(d.a,{xs:"12",md:"6"},c.a.createElement(g.a,{name:"category_id",component:y.a,label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",validate:[T.a],type:"select",defaultValue:"",data:n})),c.a.createElement(d.a,{xs:"12",md:"6"},c.a.createElement(g.a,{name:"status",component:y.a,label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",type:"select",defaultValue:"DRAFT",validate:[T.a],data:[{id:"PUBLISHED",name:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d"},{id:"DRAFT",name:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"},{id:"PENDING",name:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"}]})),c.a.createElement(d.a,{xs:"12",md:"6"},c.a.createElement(g.a,{name:"public_at",component:b.a,label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"})),c.a.createElement(d.a,{xs:"12"},c.a.createElement(g.a,{name:"body",component:E.a,label:"\u041a\u043e\u043d\u0442\u0435\u043d\u0442",validate:[T.a],type:"text",ref:"CKEDITOR"})),c.a.createElement(d.a,{xs:"12"},c.a.createElement(g.a,{name:"tags",component:O.a,validate:[T.a],label:"\u0422\u044d\u0433\u0438"})),c.a.createElement(x,null),c.a.createElement(D,null)),t&&c.a.createElement(l.a,null,c.a.createElement(d.a,{xs:"12"},c.a.createElement(p.a,{color:"danger"},t))),c.a.createElement(l.a,null,c.a.createElement(d.a,{xs:"6"},c.a.createElement("div",{className:"controls"},c.a.createElement(f.a,null,c.a.createElement(h.a,{color:"primary",type:"submit",className:"px-4"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))))}},{key:"initialState",get:function(){return{}}}]),t}(u.Component);N=Object(v.a)({form:"PostEditForm"})(N),N=Object(j.a)(function(e,t){return{isRetrievingGetPost:Object(C.i)(e,t),isRetrievingCreatePost:Object(C.h)(e,t)}},function(e){return{CreatePostAction:function(t){return e(Object(C.a)(t))},UpdatePostAction:function(t){return e(Object(C.g)(t))}}})(N);var q=N=Object(k.k)(N),A=a(583);a.d(t,"PostEditor",function(){return I});var I=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state=a.initialState,a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params;e&&e.id&&this.props.GetPostAction(e.id),this.props.GetCategoriesAction({query:{without_pagination:1}})}},{key:"render",value:function(){var e=this.props,t=e.categories,a=e.post,n=e.match.params,r=e.isRetrievingGetPost,o=e.isRetrievingCategories;if((r||o)&&!t)return c.a.createElement("div",null,"Loading...");if(!t.length)return null;var i={initialValues:a(n&&n.id)};return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(q,Object.assign({categories:Object.values(t[0])},i)))}},{key:"initialState",get:function(){return{}}}]),t}(u.Component);I=Object(j.a)(function(e,t){return{post:function(a){if(a){var n=Object(C.d)(e,"posts",a,t);if(n)return n[a]}return null},categories:Object(A.c)(e,t),isRetrievingGetPost:Object(C.i)(e,t),isRetrievingCategories:Object(A.h)(e,t)}},function(e){return{GetPostAction:function(t){return e(Object(C.c)({urlParams:{id:t}}))},GetCategoriesAction:function(t){return e(Object(A.d)(t))}}})(I);t.default=I}}]);
//# sourceMappingURL=15.8189fb63.chunk.js.map