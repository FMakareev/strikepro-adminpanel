(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1032:function(e,t,n){"use strict";var r=n(14),a=n(76),o=n(0),i=n.n(o),c=n(10),s=n.n(c),u=n(27),l=n.n(u),m=n(891),d={tag:m.q,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,n=e.cssModule,o=e.tag,c=Object(a.a)(e,["className","cssModule","tag"]),s=Object(m.m)(l()(t,"card-group"),n);return i.a.createElement(o,Object(r.a)({},c,{className:s}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},1135:function(e,t,n){"use strict";n.r(t);var r=n(210),a=n(211),o=n(213),i=n(212),c=n(214),s=n(0),u=n.n(s),l=n(933),m=n(900),d=n(901),f=n(1032),h=n(907),p=n(943),b=n(215),g=n(1132),y=n(1130),v=n(910),j=n(990),O=n(1087),E=(n(581),n(216)),w=n(909),k=n(897);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function P(e){return!(!e||"function"!==typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function M(e,t,n){return Object.keys(e).reduce(function(t,r){var a=""+r;return t.has(a)?t.set(a,n(t.get(a),e[a])):t},t)}var T=function(e){return function(t){return P(t)?t.get(e):t[e]}},x=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!==typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var r=n,a=r.idAttribute,o=void 0===a?"id":a,i=r.mergeStrategy,c=void 0===i?function(e,t){return N({},e,t)}:i,s=r.processStrategy,u=void 0===s?function(e){return N({},e)}:s;this._key=e,this._getId="function"===typeof o?o:T(o),this._idAttribute=o,this._mergeStrategy=c,this._processStrategy=u,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var r,a=e[n];return N({},t,((r={})[n]=a,r))},this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.normalize=function(e,t,n,r,a,o){var i=this;if(o.some(function(t){return t===e}))return this.getId(e,t,n);o.push(e);var c=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach(function(e){if(c.hasOwnProperty(e)&&"object"===typeof c[e]){var t=i.schema[e];c[e]=r(c[e],c,e,t,a,o)}}),a(this,c,e,t,n),this.getId(e,t,n)},t.denormalize=function(e,t){var n=this;return P(e)?M(this.schema,e,t):(Object.keys(this.schema).forEach(function(r){if(e.hasOwnProperty(r)){var a=n.schema[r];e[r]=t(e[r],a)}}),e)},A(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),C=function(){function e(e,t){t&&(this._schemaAttribute="string"===typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var r=this.getSchemaAttribute(e,t,n);return this.schema[r]},t.normalizeValue=function(e,t,n,r,a,o){var i=this.inferSchema(e,t,n);if(!i)return e;var c=r(e,t,n,i,a,o);return this.isSingleSchema||void 0===c||null===c?c:{id:c,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=P(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((P(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},A(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),L=function(e){function t(t,n){if(!n)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}z(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,a,o){return this.normalizeValue(e,t,n,r,a,o)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(C),I=function(e){function t(){return e.apply(this,arguments)||this}z(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,a,o){var i=this;return Object.keys(e).reduce(function(t,n,c){var s,u=e[n];return void 0!==u&&null!==u?N({},t,((s={})[n]=i.normalizeValue(u,e,n,r,a,o),s)):t},{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce(function(r,a){var o,i=e[a];return N({},r,((o={})[a]=n.denormalizeValue(i,t),o))},{})},t}(C),q=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},F=function(e){return Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t]})},V=function(e,t,n,r,a,o,i){return e=q(e),F(t).map(function(t,c){return a(t,n,r,e,o,i)})},R=function(e){function t(){return e.apply(this,arguments)||this}z(t,e);var n=t.prototype;return n.normalize=function(e,t,n,r,a,o){var i=this;return F(e).map(function(e,c){return i.normalizeValue(e,t,n,r,a,o)}).filter(function(e){return void 0!==e&&null!==e})},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map(function(e){return n.denormalizeValue(e,t)}):e},t}(C),D=function(e,t,n,r,a,o,i){var c=N({},t);return Object.keys(e).forEach(function(n){var r=e[n],s=a(t[n],t,n,r,o,i);void 0===s||null===s?delete c[n]:c[n]=s}),c},J=function(e,t,n){if(P(t))return M(e,t,n);var r=N({},t);return Object.keys(e).forEach(function(t){null!=r[t]&&(r[t]=n(r[t],e[t]))}),r},U=function e(t,n,r,a,o,i){return"object"===typeof t&&t?"object"!==typeof a||a.normalize&&"function"===typeof a.normalize?a.normalize(t,n,r,e,o,i):(Array.isArray(a)?V:D)(a,t,n,r,e,o,i):t},G={Array:R,Entity:x,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce(function(t,n){var r,a=e[n];return N({},t,((r={})[n]=a,r))},this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return D.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,[this.schema].concat(t))},e}(),Union:L,Values:I},H=new G.Entity("message"),W=new G.Entity("user"),B=new G.Entity("email"),K=new G.Entity("password"),Q=new G.Entity("errors",{email:[B],password:[K]},{idAttribute:function(){return"errors"}}),X=new G.Entity("message",{message:H,errors:Q},{idAttribute:function(){return"message"}}),Y=(new G.Entity("login",{response:X},{idAttribute:function(){return"login"}}),n(153)),Z=n(899),$=Object(E.b)("authResource")({login:{method:"POST",url:"".concat(k.a.base).concat(k.a.api.login),networkHelpers:{handleStatusCode:function(e){200===e.status&&(Y.a.push("/"),window.location.reload())},requestPOST:Z.c},normalizer:function(e){return e.errors?{entities:Object(b.a)({},e,{message:[e.message]}),result:{errors:e}}:function(e,t){if(!e||"object"!==typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+typeof e+'".');var n={},r=function(e){return function(t,n,r,a,o){var i=t.key,c=t.getId(r,a,o);i in e||(e[i]={});var s=e[i][c];e[i][c]=s?t.merge(s,n):n}}(n);return{entities:n,result:U(e,e,null,t,r,[])}}(e,W)},afterHook:function(e){e.user&&localStorage.setItem("user",JSON.stringify(e.user))}},logout:{method:"GET",url:"".concat(k.a.base).concat(k.a.api.logout),afterHook:function(){localStorage.clear()}}});console.log($);var ee=$.actions,te=ee.login.perform,ne=ee.logout.perform,re=$.selectors,ae=re.resource.getResource,oe=re.login.request.getResource,ie=(re.logout.request.getResource,n(8)),ce=(n(896),n(912)),se=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onLogin=function(e){return(0,n.props.LoginAction)({body:e}).then(function(e){var t=e.normalizedPayload;if(t&&t.errors)throw t}).catch(function(e){throw new O.a(Object(b.a)({_error:e.message?e.message[0]:null},e.errors&&e.errors.email?{email:e.errors.email[0]}:{},e.errors&&e.errors.password?{password:e.errors.password[0]}:{}))})},n.state=n.initialState,n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){this.onLogout()}},{key:"onLogout",value:function(){return(0,this.props.LogoutAction)()}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.handleSubmit,r=e.pristine,a=e.reset,o=e.submitting;return u.a.createElement("form",{onSubmit:n(this.onLogin)},u.a.createElement(g.a,{name:"email",component:w.a,label:u.a.createElement(ie.FormattedMessage,{id:"form.label.email"}),type:"text",icon:"icon-user"}),u.a.createElement(g.a,{name:"password",component:w.a,label:u.a.createElement(ie.FormattedMessage,{id:"form.label.password"}),type:"password",icon:"icon-lock"}),u.a.createElement(m.a,null,u.a.createElement(d.a,{xs:"8"},u.a.createElement(v.a,{color:"primary",type:"submit",className:"px-4",disabled:r||o},u.a.createElement(ie.FormattedMessage,{id:"button.login"}))),u.a.createElement(d.a,{xs:"4",className:"text-right"},u.a.createElement(v.a,{block:!0,color:"link",type:"button",onClick:a},u.a.createElement(ie.FormattedMessage,{id:"button.reset"})))),t&&u.a.createElement(j.a,{color:"danger"},u.a.createElement(ie.FormattedMessage,{id:t})))}},{key:"initialState",get:function(){return{redirect:!1}}}]),t}(s.Component);se=Object(y.a)({form:"LoginForm",validate:function(e,t){var n=t.intl,r={};return e.email&&(r.email=Object(ce.a)(n,"The email field is required.")),e.password&&(r.password=Object(ce.a)(n,"The password field is required.")),r}})(se),se=Object(E.a)(function(e,t){return{LoginGetResource:oe(e,t),AuthGetResource:ae(e,t)}},function(e){return{LoginAction:function(t){return e(te(t))},LogoutAction:function(t){return e(ne())}}})(se);var ue=Object(ie.injectIntl)(se),le=n(958);n.d(t,"Login",function(){return me});var me=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"app flex-row align-items-center"},u.a.createElement(l.a,null,u.a.createElement(m.a,{className:"justify-content-center"},u.a.createElement(d.a,{md:"8"},u.a.createElement(f.a,{className:"mb-0"},u.a.createElement(h.a,{className:"p-4"},u.a.createElement(p.a,{className:"card-body"},u.a.createElement("h1",null,u.a.createElement(ie.FormattedMessage,{id:"auth.login.title"})),u.a.createElement("p",{className:"text-muted"},u.a.createElement(ie.FormattedMessage,{id:"auth.login.subtitle"})),u.a.createElement(ue,null))))))),u.a.createElement(le.a,null))}}]),t}(s.Component);t.default=me},896:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return!(!e||!t)&&Object.prototype.hasOwnProperty.call(e,t)}},897:function(e,t,n){"use strict";var r="";switch(window.location.hostname){case"localhost":case"admin.strikepro.ru":r="https://dev.strikepro.ru";break;case"strike.localhost":r="http://strike.localhost"}t.a={base:r,api:{login:"/dashboard/auth/login",logout:"/dashboard/auth/logout",posts:"/dashboard/blog/posts",post:"/dashboard/blog/post",categories:"/dashboard/blog/categories",category:"/dashboard/blog/category",slides:"/dashboard/slides",tiles:"/dashboard/mainfeeds",tile_types:"/dashboard/mainfeed/types",tile:"/dashboard/mainfeed",nomenclature:"/dashboard/nomenclature",nomenclatures:"/dashboard/nomenclatures",nomenclatureCharacteristic:"/dashboard/nomenclature/characteristic",typesOfNomenclature:"/dashboard/nomenclature/characteristic",fileupload:"/dashboard/fileupload",static_pages:"/dashboard/pages",url_alias:"/dashboard/url_alias",feedback:"/dashboard/feedback"}}},899:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return c});var r=n(215),a=function(e){return Object(r.a)({method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}},e?{body:JSON.stringify(e)}:{})},o=function(){return{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}},i=function(){return{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}},c=function(e){return{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}}},909:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),a=n.n(r),o=n(1020),i=n(1021),c=n(959),s=n(960),u=n(925),l=n(961),m=n(1022),d=n(8),f=function(e){var t=e.input,n=e.label,r=e.type,f=e.placeholder,h=e.required,p=e.icon,b=e.meta,g=b.touched,y=b.error;return a.a.createElement(o.a,{className:g?y?"":"was-validated":""},n&&a.a.createElement(i.a,null,n),a.a.createElement(c.a,{className:"mb-3"},p&&a.a.createElement(s.a,{addonType:"prepend"},a.a.createElement(u.a,null,a.a.createElement("i",{className:p}))),a.a.createElement(l.a,Object.assign({},t,{type:r,valid:!!g&&!y,className:g&&y?"form-control-warning is-invalid":"",placeholder:f,required:h})),a.a.createElement(m.a,{valid:!!g&&!y,className:"help-block"},y&&a.a.createElement(d.FormattedMessage,{id:y}))))}},912:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(896),a=function(e,t,n){if(t&&e&&e.messages){try{if(n&&"object"===typeof t)return e.formatMessage(t,n)}catch(a){console.log(a)}if(Object(r.a)(e.messages,t))return e.messages[t]}return t}},933:function(e,t,n){"use strict";var r=n(14),a=n(76),o=n(0),i=n.n(o),c=n(10),s=n.n(c),u=n(27),l=n.n(u),m=n(891),d={tag:m.q,fluid:s.a.bool,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,n=e.cssModule,o=e.fluid,c=e.tag,s=Object(a.a)(e,["className","cssModule","fluid","tag"]),u=Object(m.m)(l()(t,o?"container-fluid":"container"),n);return i.a.createElement(c,Object(r.a)({},s,{className:u}))};f.propTypes=d,f.defaultProps={tag:"div"},t.a=f},943:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n.n(r),o=n(905),i=n(891);function c(e){return Object(i.s)('The "CardBlock" component has been deprecated.\nPlease use component "CardBody".'),a.a.createElement(o.a,e)}},958:function(e,t,n){"use strict";var r=n(210),a=n(211),o=n(213),i=n(212),c=n(214),s=n(153),u=n(75),l=n(0),m=n.n(l),d=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={pathname:null,unlisten:null},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=s.a.listen(function(t){e.state.pathname});this.setState({unlisten:t})}},{key:"componentWillUnmount",value:function(){this.state&&this.state.unlisten&&this.state.unlisten()}},{key:"componentWillReceiveProps",value:function(e){e.location.pathname!==this.props.location.pathname&&this.setState({pathname:null})}},{key:"render",value:function(){var e=this.state.pathname;return e?m.a.createElement(u.c,{to:e}):null}}]),t}(l.Component);d=Object(u.k)(d),t.a=d}}]);
//# sourceMappingURL=46.afd35fcd.chunk.js.map