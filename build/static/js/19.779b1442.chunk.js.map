{"version":3,"sources":["helpers/hasOwnProperty.js","config.js","store/reduxRestEasy/.helpers/networkHelpers.js","history.js","store/reduxRestEasy/.helpers/handleStatusCode.js","store/reduxRestEasy/.helpers/ResourceHelper.js","store/reduxRestEasy/.helpers/normalizerHelpers.js","components/PageContainer/PageContainer.js","components/TextField/TextField.js","helpers/normalizeSubmissionError.js","helpers/createSubmitHandler.js","components/Form/FormSelect.js","components/Form/form_ckeditor.js","store/reduxRestEasy/Slides/SlidesResource.js","components/Checkbox/Checkbox.js","views/Slides/View/SlidesEditor/Components/SlidePreviewVideo/SlidePreviewVideo.js","views/Slides/View/SlidesEditor/Components/SlidePreviewImage/SlidePreviewImage.js","views/Slides/View/SlidesEditor/Components/SlidePreviewContent/SlidePreviewContent.js","views/Slides/View/PropTypes/index.js","shared/constants.js","views/Slides/View/SlidesEditor/Components/SlidePreview/SlidePreview.js","views/Slides/View/SlidesEditor/Components/UploadFileButton/UploadFileButton.js","views/Slides/View/SlidesEditor/Components/UploadVideo/UploadVideo.js","views/Slides/View/SlidesEditor/Components/UploadImage/UploadImage.js","views/Slides/View/SlidesEditor/Components/SlideBodyVideo/SlideBodyVideo.js","views/Slides/View/SlidesEditor/Components/SlideBodyImage/SlideBodyImage.js","views/Slides/View/SlidesEditor/Components/FormSlidesEditor/FormSlidesEditor.js","views/Slides/View/SlidesEditor/Components/SlideParseBody/SlideParseBody.js","views/Slides/View/SlidesEditor/index.js"],"names":["__webpack_require__","d","__webpack_exports__","hasOwnProperty","obj","prop","Object","prototype","call","base","window","location","hostname","api","login","logout","posts","post","categories","category","slides","tiles","tile_types","tile","nomenclature","nomenclatures","nomenclatureCharacteristic","typesOfNomenclature","fileupload","static_pages","url_alias","requestPOST","body","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","method","credentials","headers","Accept","Content-type","JSON","stringify","requestGET","requestDELETE","requestPUT","history__WEBPACK_IMPORTED_MODULE_0__","BrowserHistory","createBrowserHistory","handleStatusCode","_history__WEBPACK_IMPORTED_MODULE_0__","response","status","history","push","reload","NormalizationPayload","resourceName","_this","this","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","mergeResourceAndPayload","resources","payload","forEach","item","id","metadata","data","concat","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","removePayloadFromResources","payloadID","console","log","filter","warn","payloadToResource","_this$resourceName","arguments","length","undefined","entities","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","result","updateResource","normalizeError","errors","message","DeleteNormalizer","Normalizer","urlParams","PageContainer","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","reactstrap__WEBPACK_IMPORTED_MODULE_6__","_ref","header","children","footer","a","createElement","className","xs","TextField","reactstrap__WEBPACK_IMPORTED_MODULE_7__","input","label","type","placeholder","required","icon","_ref$meta","meta","touched","error","addonType","assign","valid","normalizeSubmissionError","_error","Array","isArray","createSubmitHandler","fetchAction","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","options","_ref2","normalizedPayload","wrap","_context","prev","next","sent","SubmissionError","stop","_x","apply","FormSelect","_Component","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_this$props","props","defaultValue","onChange","_this$props2","_this$props2$meta","valueKey","labelKey","react__WEBPACK_IMPORTED_MODULE_5___default","reactstrap__WEBPACK_IMPORTED_MODULE_8__","map","index","selected","reactstrap__WEBPACK_IMPORTED_MODULE_9__","color","Component","defaultProps","FormCKEditor","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","E_Dev_alex_taran_project_catalog_catalog_admin_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","state","initialState","_this$props$meta","config","react__WEBPACK_IMPORTED_MODULE_6___default","react_ckeditor_component__WEBPACK_IMPORTED_MODULE_7___default","activeClass","language","filebrowserBrowseUrl","filebrowserImageBrowseUrl","filebrowserUploadUrl","filebrowserImageUploadUrl","imageUploadUrl","scriptUrl","content","events","change","evt","editor","getData","onSelect","cancel","paste","afterPaste","fileUploadRequest","xhr","fileLoader","setRequestHeader","withCredentials","fileUploadResponse","reactstrap__WEBPACK_IMPORTED_MODULE_10__","isInit","CreateSlideAction","DeleteSlideAction","GetSlideAction","GetSlidesAction","UpdateSlideAction","isRetrievingGetSlide","isRetrievingGetSlides","GetSlides","GetSlideById","isRetrievingUpdateSlide","isRetrievingCreateSlide","_brigad_redux_rest_easy__WEBPACK_IMPORTED_MODULE_0__","_helpers_ResourceHelper__WEBPACK_IMPORTED_MODULE_1__","_config__WEBPACK_IMPORTED_MODULE_2__","_helpers_handleStatusCode__WEBPACK_IMPORTED_MODULE_3__","_helpers_networkHelpers__WEBPACK_IMPORTED_MODULE_4__","_helpers_normalizerHelpers__WEBPACK_IMPORTED_MODULE_5__","_helpers_hasOwnProperty__WEBPACK_IMPORTED_MODULE_6__","SlidesResource","createResource","createSlide","url","normalizer","networkHelpers","deleteSlide","getSlide","getSlides","updateSlide","actions","perform","selectors","resource","getResource","getResourceById","request","isPerforming","Checkbox","check","htmlFor","name","SliderPreviewVideo","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","nextProps","nextState","shallowequal","video","document","getElementById","load","play","e","react_default","width","loop","muted","autoPlay","values","src","React","SliderPreviewImage","image","alt","draggable","contentPosition","PropTypes","string","bool","top-left","top-middle","top-right","middle-left","middle-middle","middle-right","bottom-left","bottom-middle","bottom-right","slidesItemCaptionClassName","backDrop","position","classNames","defineProperty","slides_item-caption","slides_item-caption--back-drop","getContentPosition","SlidePreviewContent","buttonLabel","buttonLink","ReactHtmlParser","href","BG_SLIDER_TYPE_IMAGE","BG_SLIDER_TYPE_VIDEO","SlidePreview","_this$props$values","backgroundType","Card","CardHeader","CardBody","SlidePreviewImage","Components_SlidePreviewContent_SlidePreviewContent","SlidePreviewVideo","UploadFileButton","isLoading","uploadFile","accept","errorSubmit","FormGroup","Button","style","block","opacity","top","right","bottom","left","multiple","FormFeedback","UploadVideo","setNewVideoInStore","fileType","folder","_this$props$input","indexOf","objectSpread","target","files","replace","setState","formData","FormData","append","fetch","then","statusText","json","catch","_this$state","Components_UploadFileButton_UploadFileButton","get","UploadImage","SlideBodyVideo","SlideBodyImage","FormSlidesEditor","_getPrototypeOf2","_len","args","_key","getSlideBody","renderToString","Components_SlideBodyImage_SlideBodyImage","Components_SlideBodyVideo_SlideBodyVideo","onSubmit","asyncToGenerator","regenerator_default","handleSubmit","pristine","submitting","SlidePreview_SlidePreview","Row","Col","Field","component","ref","toolbarGroups","groups","Alert","md","lg","disabled","connect","getFormValues","reduxForm","form","connectRestEasy","ownProps","dispatch","withRouter","trim","SlideParseBody","domBody","DOMParser","parseFromString","getElementsByTagName","GetBGTypeSlideBody","getElementsByClassName","GetImageFromSlideBody","i","GetVideoFromSlideBody","CheckBackDropSlideBody","innerHTML","GetContentSlideBody","GetPositionContentSlideBody","button","textContent","GetButtonSlideBody","SlideEditor","createInitialValues","match","slide","params","initialValues","Components_FormSlidesEditor_FormSlidesEditor"],"mappings":"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","file":"static/js/19.779b1442.chunk.js","sourcesContent":["export const hasOwnProperty = (obj, prop) => {\n  if (!obj || !prop) {\n    return false\n  }\n  return Object.prototype.hasOwnProperty.call(obj, prop)\n};\n","\n\nlet base = '';\n\nswitch (window.location.hostname) {\n  case ('localhost'):{\n    base = 'https://dev.strikepro.ru';\n    break;\n  }\n  case ('admin.strikepro.ru'):{\n    base = 'https://dev.strikepro.ru';\n    break;\n  }\n  case ('strike.localhost'):{\n    base = 'http://strike.localhost';\n    break;\n  }\n}\n\n\n\nexport default {\n  base,\n  api: {\n    login: '/dashboard/auth/login',\n    logout: '/dashboard/auth/logout',\n\n    posts: '/dashboard/blog/posts',\n    post: '/dashboard/blog/post',\n\n    categories: '/dashboard/blog/categories',\n    category: '/dashboard/blog/category',\n\n    slides: '/dashboard/slides',\n\n    tiles: '/dashboard/mainfeeds',\n\n    tile_types: '/dashboard/mainfeed/types',\n    tile: '/dashboard/mainfeed',\n\n    nomenclature: '/dashboard/nomenclature',\n    nomenclatures: '/dashboard/nomenclatures',\n\n    nomenclatureCharacteristic: '/dashboard/nomenclature/characteristic',\n    typesOfNomenclature: '/dashboard/nomenclature/characteristic',\n    fileupload: '/dashboard/fileupload',\n\n    static_pages: '/dashboard/pages',\n    url_alias: '/dashboard/url_alias',\n  }\n}\n","export const requestPOST = (body) => {\n  return {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    },\n    ...(body? {body: JSON.stringify(body)} : {})\n\n  }\n};\n\nexport const requestGET = () => {\n  return {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    }\n  }\n};\n\nexport const requestDELETE = () => {\n  return {\n    method: 'DELETE',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    }\n  }\n};\n\nexport const requestPUT = (body) => {\n  return {\n    method: 'PUT',\n    credentials: 'include',\n    headers: {\n      Accept: 'application/json',\n      'Content-type': 'application/json',\n    },\n    body: JSON.stringify(body),\n  }\n};\n","import {createBrowserHistory} from 'history';\n\nexport const BrowserHistory = createBrowserHistory();\n\nexport default BrowserHistory;\n","import history from \"../../../history\";\n\n\nexport const handleStatusCode = (response) => {\n  const {status} = response;\n  if (status === 401) {\n    history.push('#/login');\n    window.location.reload();\n    return response\n  }\n\n  if (status === 404) {\n    history.push('#/404');\n    window.location.reload();\n    return response\n  }\n\n\n  return response\n};\n\nexport default handleStatusCode;\n","export class NormalizationPayload {\n\n  resourceName = null;\n\n  constructor(resourceName) {\n    this.resourceName = resourceName;\n  }\n\n  /**\n   * @param {object} resources - объект с исходными ресурсами\n   * @param {array} payload - массив с новыми ресурсами\n   * @desc метод для добавления в существующие ресурсы новых ресурсов\n   * */\n  mergeResourceAndPayload = (resources, payload) => {\n    payload.forEach((item) => {\n      resources[this.resourceName][this.resourceName][item.id] = item;\n      resources[this.resourceName].metadata = {\n        data: [...resources[this.resourceName].metadata.data, item.id],\n      };\n    });\n    return resources;\n  };\n\n  /**\n   * @param {array} resources\n   * @param {string} payloadID\n   * @desc\n   * */\n  removePayloadFromResources = (resources, payloadID) => {\n    if (!payloadID) {\n      console.warn('payloadID undefined');\n      return resources;\n    }\n    console.log('removePayloadFromResources: ', this, resources, payloadID);\n    delete resources[this.resourceName][this.resourceName][payloadID];\n    resources[this.resourceName].metadata.data = resources[this.resourceName]\n      .metadata.data.filter(item => item !== payloadID);\n    return resources;\n  };\n\n  /**\n   * @param {array} payload\n   * @param {object} metadata\n   * @desc\n   * */\n  payloadToResource = (payload, metadata = {}) => {\n    const data = {\n      entities: {\n        [this.resourceName]: {\n          [this.resourceName]: {},\n          metadata: {}\n        },\n      },\n      result: []\n    };\n    if (payload) {\n      payload.forEach((item) => {\n        data.result.push(item.id);\n        data.entities[this.resourceName][this.resourceName][item.id] = item;\n      });\n    }\n    data.entities[this.resourceName].metadata = {\n      ...metadata,\n      data: data.result,\n    };\n    return data;\n  };\n\n  /**\n   * @param {object} resources - объект с исходными ресурсами\n   * @param {object} payload - массив с новыми ресурсами\n   * @desc метод для добавления в существующие ресурсы новых ресурсов\n   * */\n  updateResource = (resources, payload) => {\n    resources[this.resourceName][this.resourceName][payload.id] = payload;\n    return resources;\n  };\n\n  /**\n   * @param {object} payload\n   * @param {object} payload.errors\n   * @param {array} payload.errors.propName\n   * @param {string} payload.message\n   * */\n  normalizeError = (payload) => {\n    if(!payload.errors){\n      payload.errors = {};\n    }\n    return {\n      entities: {\n        ...payload,\n        message: [payload.message]\n      },\n      result: {errors: payload}\n    };\n  }\n\n}\n","import {hasOwnProperty} from \"../../../helpers/hasOwnProperty\";\n\n\nexport const DeleteNormalizer = (Normalizer)=> (payload, resources, urlParams,) => {\n  if (payload.errors) {\n    return Normalizer.normalizeError(payload);\n  }\n  if (payload) {\n    return Normalizer.removePayloadFromResources(resources, urlParams.id);\n  }\n  return resources;\n};\n\n\nexport const CreateNormalizer = (Normalizer) => (payload, resources, urlParams) => {\n  if (!payload ) {\n    return null\n  }\n  if (payload.errors || payload.message) {\n    return Normalizer.normalizeError(payload);\n  }\n\n  if (hasOwnProperty(resources,Normalizer.resourceName)) {\n    return Normalizer.mergeResourceAndPayload(resources, [payload])\n  } else {\n    return Normalizer.payloadToResource([payload]);\n  }\n};\n\nexport const UpdateNormalizer = (Normalizer) => (payload, resources) => {\n  if (payload.errors || payload.message) {\n    return Normalizer.normalizeError(payload);\n  }\n  if (payload) {\n    return Normalizer.updateResource(resources, payload);\n  }\n  return resources;\n};\n\nexport const GetListNormalizer = (Normalizer) => (payload) => {\n  if (!payload && payload.error) {\n    return null;\n  }\n  if (Array.isArray(payload)) {\n    return Normalizer.payloadToResource(payload);\n  } else {\n    return Normalizer.payloadToResource(payload.data, payload);\n  }\n};\n\nexport const GetByIdNormalizer = (Normalizer) => (payload) => Normalizer.payloadToResource([payload])\n","import React from 'react';\nimport {Card, CardBody, CardHeader, Col, Row, CardFooter} from \"reactstrap\";\nexport const PageContainer =({header, children, footer})=>(<div className=\"animated fadeIn\">\n  <Row>\n    <Col xs=\"12\">\n      <Card>\n        {\n          header &&\n          <CardHeader>\n            <strong>\n              {header}\n            </strong>\n          </CardHeader>\n        }\n        <CardBody className={'card-body'}>\n          {children}\n        </CardBody>\n        {\n          footer &&\n          <CardFooter className={'card-footer'}>\n            {footer}\n          </CardFooter>\n        }\n      </Card>\n    </Col>\n  </Row>\n</div>);\n\n\nexport default PageContainer;\n","import React from \"react\";\nimport {FormFeedback, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText, Label} from \"reactstrap\";\n\nexport const TextField = ({input, label, type, placeholder, required, icon, meta: {touched, error}}) => (\n  <FormGroup className={touched ? error ? '' : 'was-validated' : ''}>\n    {\n      label && <Label>{label}</Label>\n    }\n    <InputGroup className=\"mb-3\">\n      {\n        icon &&\n        <InputGroupAddon addonType=\"prepend\">\n          <InputGroupText>\n            <i className={icon}/>\n          </InputGroupText>\n        </InputGroupAddon>\n      }\n\n      <Input\n        {...input}\n        type={type}\n        valid={touched ? !error : false}\n        className={touched ? error ? 'form-control-warning is-invalid' : '' : ''}\n        placeholder={placeholder || label}\n        required={required}/>\n      <FormFeedback\n        valid={touched ? !error : false}\n        className=\"help-block\"\n      >\n        {error}\n      </FormFeedback>\n    </InputGroup>\n\n  </FormGroup>)\n\nexport default TextField;\n","\n/**\n * @param {object} error\n * @param {object} error.errors\n * @param {array} error.message\n * */\nexport const normalizeSubmissionError = (error) => {\n  const data = {\n    _error: error.message ? error.message[0] : null,\n  };\n  for (let prop in error.errors) {\n    if (Array.isArray(error.errors[prop])) {\n      data[prop] = error.errors[prop][0];\n    }\n  }\n  return data;\n}\n","import {SubmissionError} from \"redux-form\";\nimport {normalizeSubmissionError} from \"./normalizeSubmissionError\";\n\nexport const createSubmitHandler = (fetchAction) => async (options) => {\n  const {normalizedPayload, error,} = await fetchAction(options);\n  if (normalizedPayload && normalizedPayload.errors || error) {\n    throw new SubmissionError(normalizeSubmissionError(normalizedPayload ||\n      {\n        message: [error.message],\n        errors: {}\n      }));\n  }\n};\n\nexport default createSubmitHandler;\n","import React, {Component} from 'react';\nimport {Alert, FormGroup, Input, Label} from \"reactstrap\";\n\n\nexport class FormSelect extends Component {\n\n  static defaultProps = {\n    valueKey: 'id',\n    labelKey: 'name',\n  };\n\n  componentDidMount() {\n    const {\n      input,\n      defaultValue,\n    } = this.props;\n\n    if(!input.value && defaultValue){\n      input.onChange(defaultValue);\n    }\n\n  }\n\n  render() {\n    const {\n      input,\n      label,\n      type,\n      data,\n      meta: {touched, error},\n      valueKey,\n      labelKey,\n    } = this.props;\n    return (\n      <FormGroup>\n        <Label>{label}</Label>\n        <Input type={type} {...input} >\n          <option>выберите категорию...</option>\n          {\n            Array.isArray(data) && data.map((item, index) => (<option\n              key={index}\n              selected={item[valueKey] === input.value}\n              value={item[valueKey]}>\n              {item[labelKey]}\n            </option>))\n          }\n        </Input>\n        {\n          touched && error &&\n          <Alert color=\"danger\">\n            {error}\n          </Alert>\n\n        }\n      </FormGroup>\n    );\n  }\n}\n\n\nexport default FormSelect;\n","import React, {Component} from 'react';\nimport CKEditor from \"react-ckeditor-component\";\nimport {Alert, FormGroup, Label} from \"reactstrap\";\n\nclass FormCKEditor extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n  get initialState() {\n    return {\n      isInit: false,\n      editor: null\n    }\n  }\n\n  componentWillMount() {}\n\n\n  componentDidUpdate() {}\n\n\n  render() {\n    const {input, label, meta: {touched, error}, config} = this.props;\n\n    return (\n      <FormGroup>\n        <Label>{label}</Label>\n\n        <CKEditor\n          activeClass=\"p10\"\n          config={{\n            language: 'ru',\n\n            filebrowserBrowseUrl: 'http://new.strikepro.ru/ckfinder/browser',\n            filebrowserImageBrowseUrl: 'http://new.strikepro.ru/ckfinder/browser',\n\n            filebrowserUploadUrl:\n              'http://new.strikepro.ru/ckfinder/connector',\n            filebrowserImageUploadUrl:\n              'http://new.strikepro.ru/ckfinder/connector',\n            imageUploadUrl: '',\n            ...config,\n          }}\n          scriptUrl=\"//cdn.ckeditor.com/4.7.3/full/ckeditor.js\"\n          content={input.value}\n          events={{\n            \"change\": (evt) => {\n              return input.onChange(evt.editor.getData())\n            },\n            \"onSelect\": (evt) => {\n              console.log('onSelect:', evt);\n              evt.cancel();\n            },\n            \"paste\": (evt) => {\n              console.log('paste:', evt);\n              // evt.stop();\n            },\n            \"afterPaste\": (evt) => {\n              console.log('afterPaste:', evt);\n              // evt.stop();\n            },\n            \"fileUploadRequest\": (evt) => {\n              console.log('fileUploadRequest:', evt);\n              let xhr = evt.data.fileLoader.xhr;\n\n              xhr.setRequestHeader(\"Access-Control-Allow-Origin\", \"http://localhost:8080\");\n              xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n              xhr.setRequestHeader(\"Accept\", \"application/json\");\n\n              xhr.withCredentials = true;\n              // evt.stop();\n            },\n            \"fileUploadResponse\": (evt) => {\n              console.log('fileUploadResponse:', evt);\n              // evt.stop();\n            },\n          }}\n        />\n        {\n          touched && error &&\n          <Alert color=\"danger\">\n            {error}\n          </Alert>\n\n        }\n      </FormGroup>\n    )\n  }\n}\n\n\nexport default FormCKEditor;\n","import {createResource} from '@brigad/redux-rest-easy';\nimport {NormalizationPayload} from \"../.helpers/ResourceHelper\";\nimport config from \"../../../config\";\nimport {handleStatusCode} from \"../.helpers/handleStatusCode\";\nimport {requestDELETE, requestGET, requestPOST, requestPUT} from \"../.helpers/networkHelpers\";\nimport {DeleteNormalizer} from \"../.helpers/normalizerHelpers\";\nimport {hasOwnProperty} from \"../../../helpers/hasOwnProperty\";\n\n\nconst RESOURCE_NAME = 'slides';\n\nconst Normalizer = new NormalizationPayload(RESOURCE_NAME);\n\n\nexport const SlidesResource = createResource(RESOURCE_NAME)({\n  createSlide: {\n    method: 'POST',\n    url: `${config.base}${config.api.slides}`,\n    normalizer: (payload, resources, urlParams) => {\n      if (!payload ) {\n        return null\n      }\n      if (payload.errors || payload.message) {\n        return Normalizer.normalizeError(payload);\n      }\n\n      if (hasOwnProperty(resources,RESOURCE_NAME)) {\n        return Normalizer.mergeResourceAndPayload(resources, [payload])\n      } else {\n        return Normalizer.payloadToResource([payload]);\n      }\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestPOST: requestPOST\n    },\n  },\n  deleteSlide: {\n    method: 'DELETE',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: DeleteNormalizer(Normalizer),\n    networkHelpers: {\n      handleStatusCode,\n      requestDELETE: requestDELETE,\n    },\n  },\n  getSlide: {\n    method: 'GET',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: (payload) => Normalizer.payloadToResource([payload]),\n    networkHelpers: {\n      handleStatusCode,\n      requestGET: requestGET,\n    },\n  },\n  getSlides: {\n    method: 'GET',\n    url: `${config.base}${config.api.slides}`,\n    normalizer: (payload) => {\n      if (!payload && payload.error) {\n        return null;\n      }\n      if (Array.isArray(payload)) {\n        return Normalizer.payloadToResource(payload);\n      } else {\n        return Normalizer.payloadToResource(payload.data, payload);\n      }\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestGET: requestGET,\n    },\n  },\n  updateSlide: {\n    method: 'PUT',\n    url: `${config.base}${config.api.slides}/::id`,\n    normalizer: (payload, resources) => {\n      if (payload.errors) {\n        return Normalizer.normalizeError(payload);\n      }\n      if (payload) {\n        return Normalizer.updateResource(resources, payload);\n      }\n      return resources;\n    },\n    networkHelpers: {\n      handleStatusCode,\n      requestPUT: requestPUT,\n    },\n  },\n});\n\n\nconst {\n  actions: {\n    createSlide: {\n      perform: CreateSlideAction,\n    },\n    deleteSlide: {\n      perform: DeleteSlideAction,\n    },\n    getSlide: {\n      perform: GetSlideAction,\n    },\n    getSlides: {\n      perform: GetSlidesAction,\n    },\n    updateSlide: {\n      perform: UpdateSlideAction,\n    },\n  },\n  selectors: {\n    resource: {\n      getResource: GetSlides,\n      getResourceById: GetSlideById,\n    },\n    createSlide: {\n      request: {\n        getResource: CreateSlideGetResource,\n        isPerforming: isRetrievingCreateSlide,\n      }\n    },\n    deleteSlide: {\n      request: {\n        getResource: DeleteSlideGetResource,\n      }\n    },\n    getSlide: {\n      request: {\n        getResource: GetSlideGetResource,\n        isPerforming: isRetrievingGetSlide,\n      }\n    },\n    getSlides: {\n      request: {\n        getResource: GetSlidesGetResource,\n        isPerforming: isRetrievingGetSlides,\n      }\n    },\n    updateSlide: {\n      request: {\n        getResource: UpdateSlideGetResource,\n        isPerforming: isRetrievingUpdateSlide,\n      }\n    },\n  }\n} = SlidesResource;\n\nexport {\n  CreateSlideAction,\n  DeleteSlideAction,\n  GetSlideAction,\n  GetSlidesAction,\n  UpdateSlideAction,\n\n  CreateSlideGetResource,\n  DeleteSlideGetResource,\n  GetSlideGetResource,\n  GetSlidesGetResource,\n  UpdateSlideGetResource,\n  isRetrievingGetSlide,\n  isRetrievingGetSlides,\n  GetSlides,\n  GetSlideById,\n\n  isRetrievingUpdateSlide,\n  isRetrievingCreateSlide,\n}\n","import React, {Component} from 'react';\nimport {Alert, FormGroup, Label} from \"reactstrap\";\n\n\nexport class Checkbox extends Component {\n    render() {\n        const {label, input, type, value, meta: {touched, error}} = this.props;\n        return (<FormGroup>\n            <div className=\"checkbox\">\n                <Label check={value === input.value} htmlFor=\"checkbox1\">\n                    <input type={type} {...input} name=\"checkbox1\"\n                           value={value}/> {label}\n                </Label>\n            </div>\n            {\n                touched && error &&\n                <Alert color=\"danger\">\n                    {error}\n                </Alert>\n            }\n        </FormGroup>)\n    }\n}\n\nexport default Checkbox;\n","import React from 'react';\nimport shallowequal from \"shallowequal\";\n\n\nexport class SliderPreviewVideo extends React.Component {\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps.video, this.props.video)\n  }\n\n  componentDidUpdate() {\n    try {\n      const video = document.getElementById('backgroundVideo');\n      if (video) {\n        video.load();\n        video.play();\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    const {video} = this.props;\n\n    return (<video width={'100%'} id=\"backgroundVideo\" loop=\"true\" muted=\"true\" autoPlay=\"true\">\n      {\n        video && Object.values(video)\n          .map(item => (<source src={item.src} type={item.type}/>))\n      }\n      Video not supported.\n    </video>)\n  }\n}\n\nexport default SliderPreviewVideo;\n","import React from 'react';\n\n\nexport const SliderPreviewImage = ({image}) => (<img\n  src={image}\n  alt=\"\"\n  className=\"slides_item-img\"\n  draggable=\"false\"\n/>);\n\nexport default SliderPreviewImage;\n","import React from 'react';\nimport ReactHtmlParser from \"react-html-parser\";\nimport classNames from \"classnames\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\n\nexport const contentPosition = {\n  'top-left': 'top-left slides_item-caption--top-left',\n  'top-middle': 'top-middle slides_item-caption--top-middle',\n  'top-right': 'top-right slides_item-caption--top-right',\n\n  'middle-left': 'middle-left slides_item-caption--middle-left',\n  'middle-middle': 'middle-middle slides_item-caption--middle-middle',\n  'middle-right': 'middle-right slides_item-caption--middle-right',\n\n  'bottom-left': 'bottom-left slides_item-caption--bottom-left',\n  'bottom-middle': 'bottom-middle slides_item-caption--bottom-middle',\n  'bottom-right': 'bottom-right slides_item-caption--bottom-right',\n};\n\nexport const getContentPosition = (position) => {\n  for (let prop in contentPosition) {\n    if (prop === position) {\n      return contentPosition[prop];\n    }\n  }\n  return contentPosition['middle-middle'];\n};\n\nconst slidesItemCaptionClassName = (backDrop = false, position = 'middle-center') => classNames({\n  'slides_item-caption': true,\n  'slides_item-caption--back-drop': backDrop,\n  [getContentPosition(position)]: true\n});\n\nexport const SlidePreviewContent = ({backDrop, position, body, buttonLabel, buttonLink}) => (<div\n  className={slidesItemCaptionClassName(backDrop, position)}\n>\n  {\n    body &&\n    <div className=\"slides_item-caption-content\">\n      {ReactHtmlParser(body)}\n    </div>\n  }\n  {\n    buttonLabel &&\n    <a href={buttonLink} className=\"button-base\">\n      {buttonLabel}\n    </a>\n  }\n</div>);\n\nSlidePreviewContent.propTypes = SlidePropTypes;\n\nexport default SlidePreviewContent;\n","import PropTypes from \"prop-types\";\n\n\nexport const SlidePropTypes = {\n  backgroundType: PropTypes.string,\n  position: PropTypes.string,\n  backDrop: PropTypes.bool,\n  buttonLabel: PropTypes.string,\n  buttonLink: PropTypes.string,\n  body:PropTypes.string,\n  image:PropTypes.string,\n};\n","\n\nexport const BG_SLIDER_TYPE_IMAGE = 'image';\nexport const BG_SLIDER_TYPE_VIDEO = 'video';\n","import React, {Component} from 'react';\nimport {Card, CardBody, CardHeader} from \"reactstrap\";\nimport shallowequal from 'shallowequal';\nimport SliderPreviewVideo from \"../SlidePreviewVideo/SlidePreviewVideo\";\nimport SliderPreviewImage from \"../SlidePreviewImage/SlidePreviewImage\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\n\n\nexport class SlidePreview extends Component {\n\n  static defaultProps = {\n    values:{\n      backgroundType: BG_SLIDER_TYPE_IMAGE,\n      image: '',\n    }\n  };\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps.values, this.props.values);\n  }\n\n  render() {\n    const {\n      backgroundType,\n      image,\n    } = this.props.values;\n    return (<Card>\n      <CardHeader>\n        <strong>Превью</strong>\n      </CardHeader>\n      <CardBody>\n        {\n          backgroundType === BG_SLIDER_TYPE_IMAGE && <div className={'slides_item'}>\n            <SliderPreviewImage image={image}/>\n            <SlidePreviewContent {...this.props.values}/>\n          </div>\n        }\n        {\n          backgroundType === BG_SLIDER_TYPE_VIDEO && <div className={'slides_item'}>\n            <SliderPreviewVideo\n              video={image}\n            />\n            <SlidePreviewContent {...this.props.values}/>\n          </div>\n        }\n      </CardBody>\n    </Card>)\n  }\n}\n\nexport default SlidePreview;\n","import React from 'react'\nimport {Button, FormFeedback, FormGroup} from \"reactstrap\";\n\nexport const UploadFileButton = ({\n                             isLoading,\n                             uploadFile,\n                             accept,\n                             label,\n                             errorSubmit\n                           }) => (<FormGroup>\n  <Button\n    style={{\n      position: 'relative',\n    }}\n    type={'button'}\n    block\n    color=\"primary\"\n  >\n    <input\n      accept={accept}\n      type='file'\n      style={{\n        opacity: '0',\n        position: 'absolute',\n        top: '0',\n        right: '0',\n        bottom: '0',\n        left: '0',\n        width: '100%'\n      }}\n      onChange={uploadFile}\n      multiple\n    />\n    {\n      !isLoading &&\n      <i className=\"fa fa-upload\"/>\n    }\n    {\n      isLoading &&\n      <i className=\"fa fa-spin fa-circle-o-notch\"/>\n    }\n    &nbsp;{label}\n  </Button>\n  {\n    errorSubmit &&\n    <FormFeedback\n      className={errorSubmit ? 'btn-block' : ''}\n    >\n      {errorSubmit}\n    </FormFeedback>\n  }\n</FormGroup>);\n\n\nUploadFileButton.defaultProps = {\n  label: 'Загрузить',\n  isLoading: false,\n  errorSubmit: null,\n  accept: '',\n};\n\nexport default UploadFileButton;\n","import React, {Component} from 'react';\nimport UploadFileButton from \"../UploadFileButton/UploadFileButton\";\nimport config from \"../../../../../../config\";\nimport {hasOwnProperty} from \"../../../../../../helpers/hasOwnProperty\";\n\n\nconst fakeUploadFileServer = (formData) => {\n  return {\"status\": \"ok\", \"url\": `${formData.get('folder')}/${formData.get('file')}`}\n};\n\n\nexport class UploadVideo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n\n  get initialState() {\n    return {\n      isLoading: false,\n      errorSubmit: null,\n    }\n  }\n\n  setNewVideoInStore = (response, fileType, folder) => {\n    const {value, onChange} = this.props.input;\n    if (hasOwnProperty(value,fileType)) {\n      if (value[fileType] !== response.url) {\n        onChange({\n          [fileType]: {\n            type: fileType,\n            src: response.url,\n          }\n        })\n      }\n    } else {\n      for (let prop in value) {\n        if (value[prop].src.indexOf(folder) !== -1) {\n          onChange({\n            ...value,\n            [fileType]: {\n              type: fileType,\n              src: response.url,\n            }\n          });\n          return;\n        }\n      }\n      onChange({\n        [fileType]: {\n          type: fileType,\n          src: response.url,\n        }\n      })\n    }\n  };\n\n  uploadFile = e => {\n\n    const fileTypeRegexp = /[.mp4|.ogg|.webm]/g;\n    const fileType = e.target.files[0].type;\n    const folder = e.target.files[0].name.replace(fileTypeRegexp, '');\n\n    this.setState({\n      isLoading: true,\n    });\n    const formData = new FormData();\n\n    formData.append('file', e.target.files[0]);\n    formData.append('folder', folder);\n\n    // let response = fakeUploadFileServer(formData);\n\n\n    fetch(`${config.base}${config.api.fileupload}`,\n      {\n        credentials: 'include',\n        method: 'POST',\n        body: formData\n      })\n      .then(response => {\n        console.log('response: ', response);\n        if (response.status >= 400) {\n          this.setState({\n            isLoading: false,\n            errorSubmit: response.statusText,\n          })\n        }\n        return response.json();\n      })\n      .then(response => {\n        console.log('response: ', response);\n        if (response.status === 'ok') {\n          this.setNewVideoInStore(response, fileType, folder);\n        } else {\n          this.setState({\n            isLoading: false,\n            errorSubmit: 'Неизвестная ошибка',\n          })\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({\n          isLoading: false,\n        })\n      })\n  };\n\n\n  render() {\n    const {isLoading, errorSubmit} = this.state;\n    console.log(this.state);\n    return (<UploadFileButton\n      label={'Загрузка видео'}\n      isLoading={isLoading}\n      errorSubmit={errorSubmit}\n      uploadFile={this.uploadFile}\n      accept={\"video/mp4,video/ogg,video/webm\"}\n    />)\n  }\n\n}\n\nexport default UploadVideo;\n","import React, {Component} from 'react';\nimport UploadFileButton from \"../UploadFileButton/UploadFileButton\";\nimport config from \"../../../../../../config\";\n\n\nexport class UploadImage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialState;\n  }\n\n\n  get initialState() {\n    return {\n      isLoading: false,\n      errorSubmit: null,\n    }\n  }\n\n  uploadFile = e => {\n    const {onChange} = this.props.input;\n\n    const fileTypeRegexp = /[.mp4|.ogg|.webm]/g;\n    const folder = e.target.files[0].name.replace(fileTypeRegexp, '');\n\n    this.setState({\n      isLoading: true,\n    });\n    const formData = new FormData();\n\n    formData.append('file', e.target.files[0]);\n    formData.append('folder', folder);\n\n    fetch(`${config.base}${config.api.fileupload}`,\n      {\n        credentials: 'include',\n        method: 'POST',\n        body: formData\n      })\n      .then(response => {\n        console.log('response: ', response);\n        return response.json();\n      })\n      .then((response) => {\n        if (response.status === 'ok') {\n          onChange(response.url);\n          this.setState({\n            isLoading: false,\n            errorSubmit: true,\n          })\n        } else {\n          this.setState({\n            isLoading: false,\n            errorSubmit: true,\n          })\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        this.setState({\n          isLoading: false,\n          errorSubmit: true,\n        })\n      })\n  };\n\n\n  render() {\n    const {isLoading, errorSubmit} = this.state;\n\n    return (<UploadFileButton\n      label={'Загрузка изображений'}\n      isLoading={isLoading}\n      errorSubmit={errorSubmit}\n      uploadFile={this.uploadFile}\n      accept={\"image/jpeg, image/pjpeg, image/png\"}\n    />)\n  }\n\n}\n\nexport default UploadImage;\n","import React from \"react\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\nimport SliderPreviewVideo from \"../SlidePreviewVideo/SlidePreviewVideo\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\n\n\nexport const SlideBodyVideo = (props)=>(<div className={'slides_item'}>\n  <SliderPreviewVideo video={props.image}/>\n  <SlidePreviewContent {...props}/>\n</div>);\n\n\nSlideBodyVideo.propTypes = SlidePropTypes;\n\nexport default SlideBodyVideo;\n","import React from \"react\";\nimport SlidePreviewContent from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {SlidePropTypes} from \"../../../PropTypes\";\nimport SliderPreviewImage from \"../SlidePreviewImage/SlidePreviewImage\";\n\n\nexport const SlideBodyImage = (props)=>(<div className={'slides_item'}>\n  <SliderPreviewImage image={props.image}/>\n  <SlidePreviewContent {...props}/>\n</div>);\n\n\nSlideBodyImage.propTypes = SlidePropTypes;\n\nexport default SlideBodyImage;\n","import React, {Component} from 'react';\nimport {Field, getFormValues, reduxForm, SubmissionError} from \"redux-form\";\nimport { renderToString } from 'react-dom/server'\nimport {connect} from \"react-redux\";\nimport {connect as connectRestEasy} from \"@brigad/redux-rest-easy\";\nimport {withRouter} from \"react-router-dom\";\nimport {Alert, Button, Col, Row} from \"reactstrap\";\n\nimport FormCKEditor from \"../../../../../../components/Form/form_ckeditor\";\nimport FormSelect from \"../../../../../../components/Form/FormSelect\";\nimport Checkbox from \"../../../../../../components/Checkbox/Checkbox\";\nimport {TextField} from \"../../../../../../components/TextField/TextField\";\nimport {\n  CreateSlideAction,\n  isRetrievingCreateSlide, isRetrievingUpdateSlide,\n  UpdateSlideAction\n} from \"../../../../../../store/reduxRestEasy/Slides/SlidesResource\";\nimport {normalizeSubmissionError} from \"../../../../../../helpers/normalizeSubmissionError\";\nimport {SlidePreview} from \"../SlidePreview/SlidePreview\";\nimport UploadVideo from \"../UploadVideo/UploadVideo\";\nimport UploadImage from \"../UploadImage/UploadImage\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\nimport SlideBodyVideo from \"../SlideBodyVideo/SlideBodyVideo\";\nimport SlideBodyImage from \"../SlideBodyImage/SlideBodyImage\";\nimport {hasOwnProperty} from \"../../../../../../helpers/hasOwnProperty\";\nimport {createSubmitHandler} from \"../../../../../../helpers/createSubmitHandler\";\n\n\nexport class FormSlidesEditor extends Component {\n\n  getSlideBody = (values) => {\n    try {\n      if(values.backgroundType === BG_SLIDER_TYPE_IMAGE){\n        return renderToString(<SlideBodyImage {...values}/>);\n      }\n      if(values.backgroundType === BG_SLIDER_TYPE_VIDEO){\n        return renderToString(<SlideBodyVideo {...values}/>);\n      }\n    } catch (e) {\n      console.log(e);\n      return null;\n    }\n  };\n\n  onSubmit = async (values) => {\n    console.log('values: ', values);\n    const body = this.getSlideBody(values);\n\n    const {history, UpdateSlideAction, CreateSlideAction} = this.props;\n    if (hasOwnProperty(values, 'id')) {\n      await createSubmitHandler(UpdateSlideAction)({\n        body: {\n          ...values,\n          body: body,\n        },\n        urlParams: {\n          id: values.id,\n        }\n      })\n    } else {\n      await createSubmitHandler(CreateSlideAction)({\n        body: {\n          body: body,\n        },\n      })\n    }\n    history.push('/slides');\n  };\n\n\n  render() {\n    const {handleSubmit, pristine, submitting, error, values} = this.props;\n    return (\n      <form onSubmit={handleSubmit(this.onSubmit)}>\n          <SlidePreview\n            values={values}\n          />\n          <Row>\n            <Col xs=\"6\">\n              {\n                values && values.backgroundType === BG_SLIDER_TYPE_IMAGE &&\n                <Field\n                  name={\"image\"}\n                  component={UploadImage}\n                  type={\"file\"}\n                />\n              }\n\n              {\n                values && values.backgroundType === BG_SLIDER_TYPE_VIDEO &&\n                <Field\n                  name={\"image\"}\n                  component={UploadVideo}\n                  type={\"file\"}\n                />\n              }\n            </Col>\n\n            <Col xs=\"6\">\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"backgroundType\"\n                component={FormSelect}\n                label={\"Тип фона\"}\n                type=\"select\"\n                data={[\n                  {\n                    name: 'Изображение',\n                    id: BG_SLIDER_TYPE_IMAGE,\n                  },\n                  {\n                    name: 'Видео',\n                    id: BG_SLIDER_TYPE_VIDEO,\n                  },\n                ]}\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"position\"\n                component={FormSelect}\n                label={\"Позиционирование контента\"}\n                type=\"select\"\n                data={[\n                  {\n                    name: 'Свурху слева',\n                    id: 'top-left',\n                  },\n                  {\n                    name: 'Сверху по центру',\n                    id: 'top-middle',\n                  },\n                  {\n                    name: 'Сверху справа',\n                    id: 'top-right',\n                  },\n\n                  {\n                    name: 'Посередине слева',\n                    id: 'middle-left',\n                  },\n                  {\n                    name: 'Посередине',\n                    id: 'middle-center',\n                  },\n                  {\n                    name: 'Посередине справа',\n                    id: 'middle-right',\n                  },\n                  {\n                    name: 'Снизу слева',\n                    id: 'bottom-left',\n                  },\n                  {\n                    name: 'Снизу по середине',\n                    id: 'bottom-center',\n                  },\n                  {\n                    name: 'Снизу справа',\n                    id: 'bottom-right',\n                  },\n                ]}\n              />\n            </Col>\n            <Col xs=\"7\">\n              <Field\n                name=\"backDrop\"\n                component={Checkbox}\n                label={\"Включить фон для контента?\"}\n                type=\"checkbox\"\n                value={true}\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"buttonLabel\"\n                component={TextField}\n                label={\"Текст кнопки\"}\n                type=\"text\"\n              />\n            </Col>\n            <Col xs=\"6\">\n              <Field\n                name=\"buttonLink\"\n                component={TextField}\n                label={\"Ссылка кнопки\"}\n                type=\"text\"\n              />\n            </Col>\n            <Col xs={12}>\n              <Field\n                name={\"body\"}\n                component={FormCKEditor}\n                label={\"Контент\"}\n                type={\"text\"}\n                ref={\"CKEDITOR\"}\n\n                config={{\n                  toolbarGroups: [\n                    {name: 'basicstyles', groups: ['basicstyles']},\n                    '/',\n                    {name: 'styles'},\n                    {name: 'colors'},\n                    {name: 'tools'},\n                  ]\n                }}\n\n              />\n            </Col>\n          </Row>\n\n          {\n            error && <Alert className={'pb-3'} color=\"danger\">\n              {error}\n            </Alert>\n          }\n\n          <Row className={'pb-3'}>\n            <Col xs=\"12\" md=\"6\" lg=\"4\">\n              <Button\n                color=\"primary\"\n                type=\"submit\"\n                disabled={pristine || submitting}\n              >\n                Сохранить\n              </Button>\n            </Col>\n          </Row>\n      </form>)\n  }\n}\n\nFormSlidesEditor = connect(state => ({\n  values: getFormValues('FormSlidesEditor')(state),\n}))(FormSlidesEditor);\n\nFormSlidesEditor = reduxForm({\n  form: 'FormSlidesEditor'\n})(FormSlidesEditor);\n\nFormSlidesEditor = connectRestEasy(\n  (state, ownProps) => ({\n    isRetrievingCreateSlide: isRetrievingCreateSlide(state, ownProps),\n    isRetrievingUpdateSlide: isRetrievingUpdateSlide(state, ownProps),\n  }),\n  dispatch => ({\n    CreateSlideAction: (options) => dispatch(CreateSlideAction(options)),\n    UpdateSlideAction: (options) => dispatch(UpdateSlideAction(options)),\n  })\n)(FormSlidesEditor);\n\nFormSlidesEditor = withRouter(FormSlidesEditor);\n\nexport default FormSlidesEditor;\n","import {contentPosition} from \"../SlidePreviewContent/SlidePreviewContent\";\nimport {BG_SLIDER_TYPE_IMAGE, BG_SLIDER_TYPE_VIDEO} from \"../../../../../../shared/constants\";\n\nconst trim = function (string) {\n  return string ? string.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '') : string;\n}\n\n/**\n * @param {object} domBody - dom object\n * @return {'video'|'image'}\n * @desc check type background slide\n * */\nconst GetBGTypeSlideBody = (domBody) => {\n  let result = domBody.getElementsByTagName('video');\n  return result.length ? 'video' : 'image';\n};\n\n\n/**\n * @param {string} body\n * @return {boolean}\n * @desc check backdrop\n * */\nconst CheckBackDropSlideBody = (body) => body.indexOf('slides_item-caption--back-drop') !== -1;\n\n/**\n * @return {object} [format]\n * @return {object} [format].src\n * @return {object} [format].type\n * */\nconst GetVideoFromSlideBody = (domBody) => {\n  let video = domBody.getElementsByTagName('video');\n  if (video && video.length) {\n    const result = {};\n    for (let i = 0; i < video[0].children.length; i += 1) {\n      result[video[0].children[i].type] = {\n        src: video[0].children[i].src,\n        type: video[0].children[i].type,\n      };\n    }\n    return result;\n  }\n  return ''\n};\n/**\n * @return {string}\n * */\nconst GetImageFromSlideBody = (domBody) => {\n  let image = domBody.getElementsByClassName('slides_item-img');\n  if (image.length) {\n    return image[0].src;\n  }\n  return \"\";\n};\n/**\n * @return {string}\n * */\nconst GetContentSlideBody = (domBody) => {\n  const content = domBody.getElementsByClassName('slides_item-caption-content');\n  if (content && content.length) {\n    return trim(content[0].innerHTML);\n  }\n  return '';\n};\n\n/** */\nconst GetButtonSlideBody = (domBody) => {\n  const button = domBody.getElementsByClassName('button-base');\n  if (button && button.length) {\n    return {\n      buttonLabel: trim(button[0].textContent),\n      buttonLink: button[0].href,\n    }\n  }\n  return {\n    buttonLabel: null,\n    buttonLink: null,\n  }\n};\n\n/**\n * @return {string}\n * */\nconst GetPositionContentSlideBody = (body) => {\n  for (let prop in contentPosition) {\n    if (body.indexOf(prop) !== -1) {\n      return prop\n    }\n  }\n  return 'middle-middle';\n};\n\n/** */\nexport const SlideParseBody = (body) => {\n  let result = {\n    backgroundType: 'image', // GetBGTypeSlideBody\n    position: 'top-middle', // GetPositionContentSlideBody\n    backDrop: true, // CheckBackDropSlideBody\n    buttonLabel: null, // GetPositionContentSlideBody\n    buttonLink: null, // GetPositionContentSlideBody\n    body: null, // GetContentSlideBody\n    image: null, // GetImageFromSlideBody && GetVideoFromSlideBody\n  };\n  const domBody = new DOMParser().parseFromString(body, 'text/html').body;\n  switch (GetBGTypeSlideBody(domBody)) {\n    case(BG_SLIDER_TYPE_IMAGE): {\n      result.backgroundType = BG_SLIDER_TYPE_IMAGE;\n      result.image = GetImageFromSlideBody(domBody);\n      break;\n    }\n    case(BG_SLIDER_TYPE_VIDEO): {\n      result.backgroundType = BG_SLIDER_TYPE_VIDEO;\n      result.image = GetVideoFromSlideBody(domBody);\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n  result.backDrop = CheckBackDropSlideBody(body);\n  result.body = GetContentSlideBody(domBody);\n  result.position = GetPositionContentSlideBody(body);\n  result = {\n    ...result,\n    ...GetButtonSlideBody(domBody),\n  };\n  return result;\n};\n","import React, {Component} from 'react';\nimport {connect as connectRestEasy} from \"@brigad/redux-rest-easy\";\nimport shallowequal from \"shallowequal\";\nimport '../../slides.css';\nimport FormSlidesEditor from \"./Components/FormSlidesEditor/FormSlidesEditor\";\nimport {\n  GetSlideAction, GetSlideById,\n  isRetrievingGetSlide\n} from \"../../../../store/reduxRestEasy/Slides/SlidesResource\";\nimport {SlideParseBody} from \"./Components/SlideParseBody/SlideParseBody\";\nimport {BG_SLIDER_TYPE_IMAGE} from \"../../../../shared/constants\";\nimport PageContainer from \"../../../../components/PageContainer/PageContainer\";\n\n\nexport class SlideEditor extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !shallowequal(nextProps, this.props);\n  }\n\n  componentWillMount() {\n    const {match} = this.props;\n    if (match && match.params && match.params.id) {\n      this.props.GetSlideAction({\n        urlParams: {\n          id: match.params.id,\n        }\n      });\n    }\n  }\n\n  createInitialValues = () => {\n    const {GetSlideById, match} = this.props;\n    const slide = match && match.params && match.params.id && GetSlideById(match.params.id);\n    let initialValues = {\n      backgroundType: BG_SLIDER_TYPE_IMAGE,\n      position: 'middle-middle',\n      backDrop: false,\n      buttonLabel: null,\n      buttonLink: null,\n      body: \"\",\n      image: \"\",\n    };\n    if (slide) {\n      initialValues = {\n        ...slide,\n        ...SlideParseBody(slide.body),\n      };\n    }\n    return initialValues;\n  };\n\n  render() {\n    const {isRetrievingGetSlide} = this.props;\n    if (isRetrievingGetSlide) {\n      return <div>Loading....</div>\n    }\n\n    return (\n      <PageContainer\n        header={'Создать слайд'}\n      >\n        <FormSlidesEditor\n          initialValues={this.createInitialValues()}\n        />\n      </PageContainer>)\n  }\n}\n\nSlideEditor = connectRestEasy(\n  (state, ownProps) => ({\n    GetSlideById: (id) => {\n      const data = GetSlideById(state, 'slides', id, ownProps);\n      if (data) {\n        return data[id];\n      }\n      return null;\n    },\n    isRetrievingGetSlide: isRetrievingGetSlide(state, ownProps),\n  }),\n  dispatch => ({\n    GetSlideAction: (options) => dispatch(GetSlideAction(options)),\n  })\n)(SlideEditor);\n\nexport default SlideEditor;\n"],"sourceRoot":""}